(this["webpackJsonpoa-chat-widget-client"]=this["webpackJsonpoa-chat-widget-client"]||[]).push([[0],{11:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return j}));var a=n(47),r=n.n(a),c=n(148),o=n(149),s=n(55),i=n.n(s),u=n(84);function l(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}i.a.prototype._final=function(){this._cipher.scrub()};var d="aes-128-cbc",f="base64",p="utf8";function g(t,n){var a=r.a.createCipheriv(d,e.from(l(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,p,f);return c+=a.final(f)}function h(t,n){t=decodeURIComponent(t);var a=r.a.createDecipheriv(d,e.from(l(atob(n))),e.from(new ArrayBuffer(16))),c=a.update(t,f,p);return c+=a.final(p)}function m(t,n){var a=l(atob(t)),c=a.subarray(0,16),o=a.subarray(16,32),s=a.subarray(32),i=l(atob(n)),u=r.a.createDecipheriv("aes-128-gcm",e.from(i),e.from(c),{authTagLength:128});u.setAutoPadding(!1),u.setAAD(e.from(o));var d=u.update(e.from(s));return u.final(),d.subarray(0,-16)}function b(e){try{return u.a.ungzip(e,{to:"string"})}catch(t){return e}}function v(e){var t=l(atob(e));try{return u.a.ungzip(t,{to:"string"})}catch(n){return e}}var _=o.a(c.a);function j(e,t){var n=e+"|"+t,a=r.a.createHmac("sha256",_);return a.update(n),a.digest("hex")}}).call(this,n(14).Buffer)},148:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=[49,52,118,72,115,118,55,53,112,65,102,85,67,111,78,85]},149:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(22);function r(e){return String.fromCharCode.apply(String,Object(a.a)(e))}},167:function(e,t,n){},176:function(e,t){},178:function(e,t){},188:function(e,t){},190:function(e,t){},217:function(e,t){},218:function(e,t){},223:function(e,t){},225:function(e,t){},232:function(e,t){},251:function(e,t){},290:function(e,t,n){},291:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getSessionInfo",(function(){return An})),n.d(a,"upgradeSessionInfo",(function(){return Rn})),n.d(a,"loadSessionForNewTab",(function(){return Un})),n.d(a,"endSession",(function(){return Ln})),n.d(a,"followOA",(function(){return qn}));var r,c=n(0),o=n(2),s=n.n(o),i=n(54),u=n.n(i),l=(n(167),n(6)),d=n(10),f=n(1),p=n.n(f),g=n(4),h=n(22),m=n(3),b=function(e,t){return"".concat(e,"?continue=").concat(encodeURIComponent(t))},v=window.ZALO_LOGIN_DOMAIN,_="https://chat.zalo.me/",j=window.ENV,w="/_/login/callback",O=b(v,_),y="/_/upgrade/callback",k=b(v,_),x="/_/pc/callback",I=b(v,_),S=512e3,N=1e8,z=4e6,C="/api/message/asyncfile/upload",E=20,M=1500,T=1e3,D="production"===j?{widgetChatDomain:"https://widget.chat.zalo.me",widgetApiDomain:"https://api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:k,callbackURI:y,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:O,callbackURI:w,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:I,callbackURI:x,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}}:{widgetChatDomain:"https://dev-widget.chat.zalo.me",widgetApiDomain:"https://dev-api.widget.zalo.me/v1",zaloMeDomain:"https://zalo.me/{oaId}",zaloWebDomain:"https://chat.zalo.me/?c={convId}",zaloPcDomain:"zalo://conversation?id=o{convId}",zaloPcUrl:"https://zalo.me/pc",pingInterval:6e4,showTypingDuration:2e3,sendDuration:6e4,conversationDuration:216e5,upgrade:{loginURL:k,callbackURI:y,callbackMessage:"zawidget-upgraded",width:400,height:650,title:"Login Zalo"},login:{loginURL:O,callbackURI:w,callbackMessage:"zawidget-logged",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3},zalopc:{loginURL:I,callbackURI:x,callbackMessage:"zawidget-zalopc",width:400,height:650,title:"Login Zalo",checkClosedInterval:1e3}},P="UPDATE_ZUSER_INFO",A="UPDATE_OA_INFO",R="UPDATE_SHOW_BOX",U="INITIALIZED_APP";!function(e){e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Pending=2]="Pending",e[e.Loading=3]="Loading",e[e.Done=4]="Done",e[e.Failed=5]="Failed"}(r||(r={}));var L,q="UPDATE_SESSION",F="UPDATE_INIT_SESSION_STATE",Z="CLOSE_SESSION",B="UPDATE_MESSAGES_2",V="UPDATE_TYPING",W="REPLY_MESSAGE",G="REMOVE_REPLY_MESSAGE",H="UPDATE_INIT_MESSAGE_STATE",J="UPDATE_NEW_MESSAGE_COUNT";!function(e){e[e.Unknown=0]="Unknown",e[e.Sending=1]="Sending",e[e.Sent=2]="Sent",e[e.Delivered=3]="Delivered",e[e.Seen=4]="Seen",e[e.Error=5]="Error",e[e.ErrorTooBigFile=6]="ErrorTooBigFile",e[e.ErrorTooBigPhoto=7]="ErrorTooBigPhoto",e[e.Uploading=8]="Uploading"}(L||(L={}));var K,Y="UPDATE_STICKER",X="UPDATE_STICKER_VALUE",Q="UPDATE_SHOW_STICKER_BOX";!function(e){e[e.Unknown=0]="Unknown",e[e.Downloading=1]="Downloading",e[e.Downloaded=2]="Downloaded",e[e.Pending=3]="Pending",e[e.Error=4]="Error"}(K||(K={}));var $,ee="ZWSOCKET",te="UPDATE_ZWCONNECTION_STATE",ne="UPDATE_PING_INTERVAL_ID",ae="UPDATE_ZWEBSOCKET_ENCRYPT_KEY",re="ZWEBSOCKET_CONNECTED_ACTION";!function(e){e[e.Unknown=0]="Unknown",e[e.Initialized=1]="Initialized",e[e.Connecting=2]="Connecting",e[e.Connected=3]="Connected",e[e.Closed=4]="Closed",e[e.Failed=5]="Failed"}($||($={}));var ce=n(5),oe=n(40);function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ce.ZErrCode.Success}))}function ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e.error_code===ce.ZErrCode.Success&&(!!e.data&&e.data.error_code===ce.ZErrCode.Success)}))}var ue,le,de,fe,pe,ge,he,me=function(e){return{type:Y,payload:e}},be=function(e,t,n,a){var r=t.categoriesRender;r.status=n,r.data=a||[],e(me(Object(m.a)(Object(m.a)({},t),{},{categoriesRender:Object(m.a)({},r)})))},ve=function(e,t){return{type:X,payload:{cateId:e,value:t}}},_e=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var r,c,o,s,i,u,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.zstickerService,e.prev=2,c=n().sticker,(o=c.categoriesRender).status===K.Error||o.status===K.Pending){e.next=7;break}return e.abrupt("return");case 7:return be(t,c,K.Downloading),e.next=10,r.getUserStickerCategories();case 10:if(se(s=e.sent)){i=Object(oe.a)(s.data.categories);try{for(i.s();!(u=i.n()).done;)l=u.value,t(je(l.id))}catch(d){i.e(d)}finally{i.f()}be(t,c,K.Downloaded,s.data.categories)}else be(t,c,K.Error);e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n,a){return e.apply(this,arguments)}}()},je=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zstickerService,o=a().sticker,!(s=o.stickerMap)[e]||!s[e].status||s[e].status===K.Error){t.next=5;break}return t.abrupt("return");case 5:return n(ve(e,{status:K.Downloading,data:{}})),t.prev=6,t.next=9,c.getUserStickersByCategory(e);case 9:se(i=t.sent)?(u=i.data.stickers,l={},u.forEach((function(e){l[e.id]=e.url})),n(ve(e,{status:K.Downloading,data:l}))):n(ve(e,{status:K.Error,data:{}})),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(6),n(ve(e,{status:K.Error,data:{}}));case 17:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e,n,a){return t.apply(this,arguments)}}()},we=n(26),Oe=n(146),ye=n(13),ke=n(147);!function(e){e[e.Unknown=0]="Unknown",e[e.Zalo=1]="Zalo",e[e.Anonymous=2]="Anonymous"}(ue||(ue={})),function(e){e[e.Default=0]="Default",e[e.Audio=1]="Audio",e[e.Video=2]="Video"}(le||(le={})),function(e){e[e.Zip=1]="Zip",e[e.GZIP_AES128_GCM=2]="GZIP_AES128_GCM"}(de||(de={})),function(e){e[e.Unknown=0]="Unknown",e[e.Authentication=1]="Authentication",e[e.Ping=2]="Ping",e[e.Upgrade=3]="Upgrade",e[e.Create_Connection=4]="Create_Connection",e[e.Receive_Message=501]="Receive_Message",e[e.Typing_Message=502]="Typing_Message",e[e.Delivered_Message=503]="Delivered_Message",e[e.Seen_Message=504]="Seen_Message",e[e.Load_Thread_Chat=511]="Load_Thread_Chat",e[e.Pull_Offline_Message=512]="Pull_Offline_Message",e[e.Load_History_Chat=513]="Load_History_Chat",e[e.Control=521]="Control"}(fe||(fe={})),function(e){e[e.Unknown=0]="Unknown",e[e.Text=1]="Text",e[e.Photo=2]="Photo",e[e.Video=3]="Video",e[e.File=4]="File",e[e.Sticker=5]="Sticker",e[e.Location=6]="Location",e[e.Chat_Recommeneded=7]="Chat_Recommeneded",e[e.Reaction=8]="Reaction",e[e.Conversation=9]="Conversation",e[e.Audio=10]="Audio"}(pe||(pe={})),function(e){e.Link="recommened.link"}(ge||(ge={})),function(e){e[e.Unknown=2]="Unknown",e[e.Text=1]="Text",e[e.File=2]="File"}(he||(he={}));var xe=function(){function e(){var t=this;Object(ye.a)(this,e),this.wsocket=void 0,this.connectUrl=void 0,this.onopenCb=void 0,this.oncloseCb=void 0,this.onmessageCb=void 0,this.onerrorCb=void 0,this.fallback=function(e){var n=function(){var t=Object(g.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if(502!==(a=t.sent).status){t.next=9;break}return t.next=7,n();case 7:t.next=18;break;case 9:if(200===a.status){t.next=16;break}return t.next=12,new Promise((function(e){return setTimeout(e,1e3)}));case 12:return t.next=14,n();case 14:t.next=18;break;case 16:return t.next=18,n();case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return new Promise((function(e,a){if(!t.wsocket)return a("Using fallback before utilizing socket");n(),e()}))}}return Object(ke.a)(e,[{key:"connect",value:function(e){var t=this,n=new URL(e);return n.search=new URLSearchParams({zpw_ver:"351",zpw_type:"30"}).toString(),this.connectUrl=n.toString(),new Promise((function(e,n){t.connectUrl?(t.wsocket=new WebSocket(t.connectUrl),t.onopenCb&&(t.wsocket.onopen=t.onopenCb),t.oncloseCb&&(t.wsocket.onclose=t.oncloseCb),t.onmessageCb&&(t.wsocket.onmessage=t.onmessageCb),t.onerrorCb&&(t.wsocket.onerror=t.onerrorCb),e()):n("ConnectUrl is empty!")}))}},{key:"onopen",value:function(e){var t=this;return this.onopenCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onopen=e,n()}))}},{key:"onclose",value:function(e){var t=this;return this.oncloseCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onclose=e,n()}))}},{key:"onerror",value:function(e){var t=this;return this.onerrorCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onerror=e,n()}))}},{key:"onmessage",value:function(e){var t=this;return this.onmessageCb=e,new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");t.wsocket.onmessage=e,n()}))}},{key:"send",value:function(e){var t=this;return new Promise((function(n,a){if(!t.wsocket)return a("No socket connection");try{t.wsocket.send(e),n()}catch(r){a(r)}}))}}],[{key:"createPacket",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=4+(a=a?(new TextEncoder).encode(JSON.stringify(a)):[]).length,c=new ArrayBuffer(r),o=new DataView(c);if(o.setUint8(0,e),o.setUint16(1,t,!0),o.setUint8(3,n),a.length>0){var s=new Uint8Array(c,4);s.set(a)}return o}},{key:"createPingMessage",value:function(){return e.createPacket(1,fe.Ping,0)}},{key:"createMsgMessage",value:function(){return e.createPacket(1,501,0)}},{key:"createLoadThreadChat",value:function(t){return e.createPacket(1,fe.Load_Thread_Chat,0,t)}},{key:"createPullOfflineMessage",value:function(t){return e.createPacket(1,fe.Pull_Offline_Message,0,t)}},{key:"createUpgradeZWebsocketPacket",value:function(t){return e.createPacket(1,fe.Upgrade,0,t)}},{key:"createConnection",value:function(t){return e.createPacket(1,fe.Create_Connection,0,t)}},{key:"createLoadHistoryChat",value:function(t){return e.createPacket(1,fe.Load_History_Chat,0,t)}}]),e}(),Ie=n(25),Se=n(24),Ne=n(11),ze=function(e){return e||(e=ht.getState().session.encrWzuId?ue.Zalo:ue.Anonymous),new Promise((function(t){e===ue.Anonymous?ZA.getAnonymousVid((function(e){t(e)})):t(ZA.getVisitorID())}))},Ce=n(150),Ee=n.n(Ce).a.create({withCredentials:!0}),Me=n(17);function Te(e){return new Promise((function(t){return setTimeout(t,e)}))}function De(e){return 1===e.length?e[0]:e[(t=0,n=e.length-1,Math.floor(Math.random()*n)+t)];var t,n}var Pe,Ae=new Map;var Re=(Pe={},Object(Me.a)(Pe,ce.ZLoadBalanceStrategyType.Random,De),Object(Me.a)(Pe,ce.ZLoadBalanceStrategyType.Round_Robin,(function(e,t){if(0===e.length)return e[0];if(!t){if(0===e.length)throw"roundRobinDomainStrategy: Invalid params";t=e[0]}var n=Ae.get(t);if(void 0===n)return Ae.set(t,0),e[0];var a=n+1>=e.length?0:n+1;return Ae.set(t,a),e[n]})),Pe),Ue="params",Le=function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).secureGet=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureGet2=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"GET",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.securePost2=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureRequest2(n,a,"POST",r));case 1:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.secureRequest2=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r,c){var o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{Ee.request({baseURL:o,url:a,method:r,params:c.query,data:c.body,headers:Object(m.a)(Object(m.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ce.ZErrCode.Exception,error_message:JSON.stringify(e)})}))}catch(s){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.secureRequest=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r,c){var o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.getRequestDomainByStrategy(n,c),t.abrupt("return",new Promise((function(t,n){try{Ee.request({baseURL:o,url:a,method:r,params:c.query,data:c.body,headers:Object(m.a)(Object(m.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),transformRequest:e.getTransformRequestFormData(r,null===c||void 0===c?void 0:c.enk),transformResponse:e.getTransformResponse(null===c||void 0===c?void 0:c.enk)}).then((function(e){t(e.data)})).catch((function(e){n({error_code:ce.ZErrCode.Exception,error_message:JSON.stringify(e)})}))}catch(s){}})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a,r){return t.apply(this,arguments)}}(),e.getTransformResponse=function(e){if(e){return function(t){try{if(t){var n=JSON.parse(t);if(n.data){var a=Object(Ne.a)(n.data,e);return Object(m.a)(Object(m.a)({},n),{},{data:JSON.parse(a)})}return n}}catch(r){}return t}}},e.getTransformRequestFormData=function(e,t){if("GET"!==e&&t){return function(e){var n=Object(Ne.c)(JSON.stringify(e),t),a=new URLSearchParams;return a.append(Ue,n),a}}},e}return n}((function e(){var t=this;Object(ye.a)(this,e),this.get=function(){var e=Object(g.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"GET",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.post=function(){var e=Object(g.a)(p.a.mark((function e(n,a,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.request(n,a,"POST",r));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.getRequestDomainByStrategy=function(e,t){if(1===e.length)return e[0];var n=t.lbType||ce.ZLoadBalanceStrategyType.Random;return Re[n](e,t.lbKey)},this.request=function(){var e=Object(g.a)(p.a.mark((function e(n,a,r,c){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.getRequestDomainByStrategy(n,c),e.abrupt("return",new Promise((function(e,t){Ee.request({baseURL:o,url:a,method:r,headers:Object(m.a)(Object(m.a)({},c.headers),{},{Zreferrer:window.zsp_referrer}),params:c.query,data:c.body}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ce.ZErrCode.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}()})),qe=new(function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getSessionInfo=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n===ue.Zalo?"/login":"/login-as-guest",t.abrupt("return",e.get([D.widgetChatDomain],c,{query:{oaId:r},headers:{Authorization:Object(Ne.d)(c,"")}}));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.loginTab=function(){var t=Object(g.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="/login-tab",t.abrupt("return",e.get([D.widgetChatDomain],r,{query:{oaId:a},headers:{Authorization:Object(Ne.d)(r,"")}}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.upgradeSessionInfo=function(){var t=Object(g.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return r=t.sent,t.abrupt("return",e.get([D.widgetChatDomain],"/upgrade",{query:{oaid:n,newGlobalId:a,globalId:r},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.closeSession=function(){var t=Object(g.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([D.widgetChatDomain],"/conv/close",{query:{oaid:n,globalId:a},headers:{}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.mapSession=Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([D.widgetChatDomain],"/login",{headers:{Authorization:Object(Ne.d)("/login","")}}));case 1:case"end":return t.stop()}}),t)}))),e.sendControl=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/send-control",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},a),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendTyping=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/typing",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},a),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendStickerMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l,d,f;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.toId,o=a.clientId,s=a.sticker,i=a.wzuId,u=s.id,l=s.catId,d=s.type,t.next=4,ze();case 4:return f=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/sticker",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{clientId:o,toId:c,stickerId:u,cateId:l,type:d,wzuId:i,globalId:f},enk:r}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendTextMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/sms",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},a),{},{zwp:0,type:0,globalId:c}),enk:r,headers:{Authorization:Object(Ne.d)("/api/message/sms",JSON.stringify(Object(m.a)(Object(m.a)({},a),{},{zwp:0,type:0})))}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendQuoteMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(n,"/api/message/quote",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},a),{},{globalId:c}),enk:r,headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendPhotoMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l,d,f;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.toId,o=a.clientId,s=a.photo,i=a.desc,u=a.width,l=a.height,d=a.wzuId,t.next=3,ze();case 3:return f=t.sent,t.abrupt("return",e.securePost(n,"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:c,clientId:o,photoId:s.photoId,rawUrl:s.hdUrl,thumbUrl:s.thumbUrl,normalUrl:s.normalUrl,hdUrl:s.hdUrl,width:u,height:l,desc:i,wzuId:d,globalId:f},enk:r}));case 5:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendPhotoMessageB=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l,d,f,g,h,m,b;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.toId,o=n.clientId,s=n.photo,i=n.desc,u=n.width,l=n.height,d=n.wzuId,f=s.result,g=f.mediaId,h=f.mapQualityInfo,m=f.mediaUrl,t.next=4,ze();case 4:return b=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/photo_original/send",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:{toId:c,clientId:o,photoId:g,rawUrl:m,thumbUrl:null===h||void 0===h?void 0:h.Tiny,normalUrl:m,hdUrl:m,width:u,height:l,desc:i,wzuId:d,globalId:b},enk:r}));case 6:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendVideoMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/video",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendFileMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2([a],"/api/message/asyncfile/msg",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendLinkMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(a,"/api/message/link",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendReactionMessage=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return c=t.sent,t.abrupt("return",e.securePost2(a,"/api/message/reaction",{query:{zpw_type:30,zpw_ver:74,nretry:0},body:Object(m.a)(Object(m.a)({},n),{},{globalId:c}),enk:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.sendLogChatPc=function(){var t=Object(g.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return r=t.sent,t.abrupt("return",e.get([D.widgetChatDomain],"/api/log/chatpc",{query:{zpc_type:n,globalId:r,oaId:a},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.sendLog=function(){var t=Object(g.a)(p.a.mark((function t(n,a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ze();case 2:return r=t.sent,t.abrupt("return",e.get([D.widgetChatDomain],"/api/log",{query:{action:n,globalId:r,oaId:a},headers:{}}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(Le)),Fe=new(function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getUserStickerCategories=Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([D.widgetApiDomain],"/stk-cate",{headers:{Authorization:Object(Ne.d)("/stk-cate","")}}));case 1:case"end":return t.stop()}}),t)}))),e.getUserStickersByCategory=function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([D.widgetApiDomain],"/stk-cate/stickers",{query:{cate_id:n},headers:{Authorization:Object(Ne.d)("/stk-cate/stickers","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getStickerUrl=function(){var t=Object(g.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.secureGet([D.widgetApiDomain],"/stk-url",{query:{cate_id:n,sticker_id:a},headers:{Authorization:Object(Ne.d)("/stk-url","")}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e}return n}(Le)),Ze=new(function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getVideoInfo=function(){var t=Object(g.a)(p.a.mark((function t(n,a){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.post(n,"/v1/info/video",{query:{videoId:a}}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.postChunkB=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r,c,o){var s,i,u;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",Promise.reject({error_code:ce.ZErrCode.Exception,error_message:"chunk cannot be undefined"}));case 2:return(s=new FormData).append("chunkData",new Blob([r])),i={enk:o,query:c,body:s},t.prev=5,t.next=8,e.securePostB(n,a,i);case 8:return u=t.sent,t.abrupt("return",u);case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",Promise.reject({error_code:ce.ZErrCode.Exception,error_message:JSON.stringify(t.t0)}));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n,a,r,c){return t.apply(this,arguments)}}(),e.securePostB=function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.getRequestDomainByStrategy(n,r),t.abrupt("return",new Promise((function(e,t){Ee.request({baseURL:c,url:a,method:"POST",params:r.query,data:r.body,headers:r.headers}).then((function(t){e(t.data)})).catch((function(e){t({error_code:ce.ZErrCode.Exception,error_message:JSON.stringify(e)})}))})));case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),e.getParamsSerializer=function(e){if(e){return function(t){var n=Object(Ne.c)(JSON.stringify(t),e),a=new URLSearchParams;return a.append("zpw_type","30"),a.append("zpw_ver","74"),a.append("params",n),a}}},e.getTransformResponse=function(e){if(e){return function(t){if(t){var n=JSON.parse(t);if(n.data){var a=Object(Ne.a)(n.data,e);return Object(m.a)(Object(m.a)({},n),{},{data:JSON.parse(a)})}return n}return t}}},e}return n}(Le)),Be=new(function(e){Object(Ie.a)(n,e);var t=Object(Se.a)(n);function n(){var e;Object(ye.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getZUserInfo=Object(g.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([D.widgetApiDomain],"/zuser",{}));case 1:case"end":return t.stop()}}),t)}))),e.getWidgetOAInfo=function(){var t=Object(g.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={oaid:n},t.abrupt("return",e.get([D.widgetApiDomain],"/oa",{query:a,headers:{Authorization:Object(Ne.d)("/oa",JSON.stringify(a))}}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.followOA=function(){var t=Object(g.a)(p.a.mark((function t(n){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="/oa/follow",r={oaid:n},t.abrupt("return",e.get([D.widgetApiDomain],a,{query:r,headers:{Authorization:Object(Ne.d)(a,JSON.stringify(r))}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.parseLink=function(){var t=Object(g.a)(p.a.mark((function t(n){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.get([D.widgetApiDomain],"/link-parser",{query:{link:n}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return n}(Le)),Ve=new RegExp("(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)");function We(e){return Ve.test(e)}function Ge(e){return e.split(" ").find((function(e){return We(e)}))}function He(e){try{return new URL(e).hostname||e}catch(t){return""}}function Je(e){if(e.length<=T)return[e];var t=function(e,t,n){var a=Math.min(n+T,e.length),r=e.substring(n,a),c=t.map((function(e){return r.lastIndexOf(e)})),o=Math.max.apply(Math,Object(h.a)(c));return o>0?o+n:-1},n=function(n){if(n+T>e.length)return e.length;var a=function(e,n){return t(e,[".","!","?"],n)}(e,n);return a>0||(a=function(e,n){return t(e,[" "],n)}(e,n))>0?a+1:Math.min(n+T,e.length)},a=[],r=0;do{var c=n(r),o=e.substring(r,c).trim();o&&a.push(o),r=c}while(r<e.length);return a}var Ke,Ye={status:r.Loading,oaIdPublic:"",oaWelcomeMessage:"Ch\xe0o b\u1ea1n, ch\xfang t\xf4i c\xf3 th\u1ec3 gi\xfap g\xec \u0111\u01b0\u1ee3c cho b\u1ea1n?",oaAutoPopup:0,oaWidth:400,oaHeight:650,shouldShowBox:!1,tabId:Math.random().toString(36).substr(2,5).toUpperCase()},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Object(m.a)(Object(m.a)(Object(m.a)({},e),t.payload.appInfo),{},{status:t.payload.status,oaInfo:t.payload.oaInfo,zuserInfo:t.payload.zuserInfo});case P:return Object(m.a)(Object(m.a)({},e),{},{zuserInfo:t.payload});case A:return Object(m.a)(Object(m.a)({},e),{},{oaInfo:t.payload});case R:return Object(m.a)(Object(m.a)({},e),{},{shouldShowBox:t.payload});default:return e}},Qe="LOAD_HISTORY",$e="CLOSE_HISTORY",et={shouldShow:!1,conversationId:0,content:{messages:[],total:0}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:var n=t.payload,a=n.messages,r=n.total;return Object(m.a)(Object(m.a)({},e),{},{shouldShow:!0,content:{messages:a,total:r}});case $e:return et;default:return e}},nt={typing:{onGoing:!1,cancelId:null},messages:[],messagesInfo:{},replyingMsg:void 0,initState:r.Initialized,newMsgCount:0},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object(m.a)(Object(m.a)({},e),{},{initState:t.payload});case W:return Object(m.a)(Object(m.a)({},e),{},{replyingMsg:t.payload.message});case G:return Object(m.a)(Object(m.a)({},e),{},{replyingMsg:void 0});case V:return Object(m.a)(Object(m.a)({},e),{},{typing:t.payload});case B:return Object(m.a)(Object(m.a)({},e),t.payload);case J:return Object(m.a)(Object(m.a)({},e),{},{newMsgCount:t.payload});default:return e}},rt={status:r.Initialized,conversationType:ue.Unknown,service_map:{web_socket:[],message:[],upload:[]},zoaw_enk:"",globalId:"",encrWzuId:"",zconv_id:""},ct=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(m.a)(Object(m.a)({},e),{},{status:t.payload});case q:return Object(m.a)(Object(m.a)({},e),t.payload);case Z:return Object(m.a)(Object(m.a)({},e),{},{status:r.Initialized,conversationType:ue.Unknown});default:return e}},ot={stickerMap:{},categoriesRender:{status:K.Pending,data:[]},isShowStickerBox:!1},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:var n=e.stickerMap,a=t.payload,r=a.cateId,c=a.value;return n[r]?(n[r].status=c.status,n[r].data=Object(m.a)(Object(m.a)({},n[r].data),c.data),n[r].extData=Object(m.a)(Object(m.a)({},n[r].extData),c.extData)):n[r]=c,Object(m.a)(Object(m.a)({},e),{},{stickerMap:Object(m.a)({},n)});case Q:return Object(m.a)(Object(m.a)({},e),{},{isShowStickerBox:t.payload});case Y:return t.payload;default:return e}},it={zws_key:"",connectionState:$.Initialized},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(m.a)(Object(m.a)({},e),{},{connectionState:t.payload.connectionState,pingIntervalId:t.payload.pingIntervalId});case ae:return Object(m.a)(Object(m.a)({},e),{},{zws_key:t.payload});case ne:return Object(m.a)(Object(m.a)({},e),{},{pingIntervalId:t.payload});case te:return Object(m.a)(Object(m.a)({},e),{},{connectionState:t.payload});default:return e}},lt=Object(we.c)({app:Xe,session:ct,messaging:at,sticker:st,history:tt,zwebsocket:ut}),dt={zchatService:qe,zwidgetService:Be,zuploadService:Ze,zstickerService:Fe},ft=new xe,pt=[Oe.a.withExtraArgument(dt),(Ke=ft,function(e){return function(t){return function(n){var a=n.promise;return n.type===ee||a?a(Ke,e):t(n)}}})];var gt,ht=Object(we.d)(lt,we.a.apply(void 0,Object(h.a)(pt))),mt=n(27),bt=function(e){var t;if(!e)return"";var n,a=ht.getState().app;return jt(e)?"0"===e.srcId?mt.a.t("messageowner.guest"):null===(n=a.zuserInfo)||void 0===n?void 0:n.name:null===(t=a.oaInfo)||void 0===t?void 0:t.name},vt=function(e){var t,n,a;return(null===(t=e.quote)||void 0===t?void 0:t.fromD)||bt(null===(n=e.quote)||void 0===n?void 0:n.quotedMessage)||function(e){if(!e)return"";var t=ht.getState().messaging,n=t.messagesInfo[e].index,a=t.messages[n];return bt(a)}(null===(a=e.quote)||void 0===a?void 0:a.cliMsgId)},_t=function(e){return!!ht.getState().messaging.messagesInfo[e.cliMsgId]},jt=function(e){return"0"===e.srcId||!wt(e.srcId)},wt=function(e){return e===ht.getState().session.conversationId},Ot=function(e){return e.state===L.Error?"cant-send":""},yt=function(e){return e.state===L.Error||e.state===L.ErrorTooBigFile||e.state===L.ErrorTooBigPhoto},kt=function(e,t,n,a){return{cliMsgId:n.cliMsgId,msgType:pe.Chat_Recommeneded,srcId:e,destId:t,content:{action:ge.Link,description:a.desc,href:a.href,thumb:a.thumb,title:a.href,parsedParams:{mediaTitle:a.title,src:a.href,type:a.type},message:n.content}}},xt=function(e){return function(e,t){var n=ht.getState().sticker.stickerMap,a=n[e].data,r=n[e].extData;return a&&a[t]||r&&r[t]||""}(e.catId,e.id)||""},It=function(e){return{type:V,payload:e}};!function(e){e.Video720P="Video720P",e.Video480P="Video480P",e.Video360P="Video360P"}(gt||(gt={}));var St,Nt=function(e){return new Promise((function(t,n){var a=window.URL||window.webkitURL,r=new Image,c=a.createObjectURL(e),o=e.name;r.onload=function(){t({localUrl:c,title:o,width:r.width,height:r.height})},r.onerror=function(){n("Cannot get image dimensions")},r.src=c}))},zt=function(e){return new Promise((function(t,n){var a=(window.URL||window.webkitURL).createObjectURL(e),r=document.createElement("video");r.addEventListener("loadedmetadata",(function(){var n=this.videoHeight,r=this.videoWidth;t({title:e.name,localUrl:a,ext:e.name.split(".").pop(),height:n,width:r,duration:this.duration})}),!1),r.onerror=function(){n("Cannot get video dimensions")},r.src=a}))},Ct=function(e,t,n,a,r){return new Promise((function(c,o){var s=new FileReader;s.readAsArrayBuffer(e),s.onload=Object(g.a)(p.a.mark((function i(){var u,l,d;return p.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,u=s.result,i.next=4,Tt(t,n,a,r,"/v1/upload/image",u,e.name);case 4:l=i.sent,(d=null===l||void 0===l?void 0:l.data)?c(d):o("No photo info response from server"),i.next=13;break;case 9:i.prev=9,i.t0=i.catch(0),o(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,9]])}))),s.onerror=function(){o(s.error)}}))},Et=function(e,t,n,a,r,c){return new Promise((function(o,s){var i=new FileReader;i.readAsArrayBuffer(e),i.onload=Object(g.a)(p.a.mark((function u(){var l,d,f;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return l=i.result,u.next=3,Tt(t,n,r,c,a,l,e.name);case 3:d=u.sent,(f=null===d||void 0===d?void 0:d.data)?o(f):s("No file info response from server");case 6:case"end":return u.stop()}}),u)}))),i.onerror=function(){s(i.error)}}))},Mt=function(e,t,n,a,r){return new Promise((function(c,o){var s=new FileReader;s.readAsArrayBuffer(e);var i=function(){var e=Object(g.a)(p.a.mark((function e(a){var r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<E)){e.next=14;break}return e.next=4,Te(M);case 4:return e.next=6,t.getVideoInfo(n,a);case 6:if(!se(c=e.sent)){e.next=11;break}if(!(o=Dt(c.data))){e.next=11;break}return e.abrupt("return",o);case 11:r++,e.next=1;break;case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();s.onload=Object(g.a)(p.a.mark((function e(){var u,l,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u=s.result,e.next=4,Tt(t,n,a,r,"/v1/upload/video",u);case 4:return l=e.sent,(d=(null===l||void 0===l?void 0:l.data.result.mediaId)||"")||o("Upload video failed"),e.next=9,i(d);case 9:(f=e.sent)?c(f):o("No video info response from server"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),o(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),s.onerror=function(){o(s.error)}}))},Tt=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a,r,c,o,s){var i,u,l,d,f,h,m,b,v,_,j;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=Math.floor(1e5*Math.random()).toString(),u=o.byteLength,l=S,d=Math.ceil(u/l),f=[],h=0;h<d;++h)m=h*l,b=null===o||void 0===o?void 0:o.slice(m,m+l),f.push(b);for(v=function(){var e=Object(g.a)(p.a.mark((function e(o){var l,g,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=o+1,g=f[o],e.next=4,t.postChunkB(n,c,g,{toId:a,clientFileId:i,clientId:i,fileSize:u,totalSize:u,totalChunk:d,chunkSeq:l,chunkId:l,fileName:s,apiKey:"SbgbohHqDBrux4iFmwFOpbkHFyC0kH8J"},r);case 4:if((h=e.sent)&&se(h)){e.next=7;break}return e.abrupt("return",Promise.reject(new Error("Upload chunk failed!")));case 7:return e.abrupt("return",h);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=[],j=0;j<d-1;++j)_.push(v(j));return e.prev=9,e.next=12,Promise.all(_);case 12:return e.next=14,v(d-1);case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n,a,r,c,o,s){return e.apply(this,arguments)}}(),Dt=function(e){var t=e.result;for(var n in gt){var a=t.mapVideoQuality[n];if(a&&"NOT READY"!==a.url&&null!=a.thumbnail)return a}return null},Pt=n(155),At=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l,d,f,g,h,m;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zuploadService,o=r.zchatService,s=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:if(i=Date.now(),u=a().session,l=u.zoaw_enk,d=u.service_map,f=u.encrWzuId,t.prev=7,$t({cliMsgId:i.toString(),msgType:pe.File,srcId:"0",destId:s,content:{title:e.name,description:"",href:"",thumb:"",childnumber:1,action:"",type:"",params:"",parsedParams:{fileSize:e.size,checksum:"",fileExt:"",fdata:null,fType:1}}},n,a),!(e.size>N)){t.next=13;break}return Qt(a(),i,n,L.ErrorTooBigFile),t.abrupt("return");case 13:return Qt(a(),i,n,L.Uploading),t.next=16,Et(e,c,d.message,C,s,"");case 16:return g=t.sent,t.t0=Pt.sha256,t.next=20,e.arrayBuffer();case 20:return t.t1=t.sent,h=(0,t.t0)(t.t1),m=D.widgetChatDomain,t.next=25,o.sendFileMessage({toId:s,clientId:i,fileName:e.name,extension:e.type,fileUrl:g.url,totalSize:e.size,checksum:h,wzuId:f},m,l);case 25:se(t.sent.data)?Qt(a(),i,n,L.Sent):Qt(a(),i,n,L.Error),t.next=33;break;case 29:t.prev=29,t.t2=t.catch(7),Qt(a(),i,n,L.Error);case 33:case"end":return t.stop()}}),t,null,[[7,29]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Rt=function(e,t){return function(){var n=Object(g.a)(p.a.mark((function n(a,r,c){var o,s,i,u,l,d,f,g,h,m,b,v,_,j,w;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c.zuploadService,s=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return u=Date.now(),l=r().session,d=l.zoaw_enk,f=l.service_map,g=l.encrWzuId,n.prev=7,n.next=10,Nt(e);case 10:if(h=n.sent,m=h.localUrl,b=h.width,v=h.height,_=h.title,$t({cliMsgId:u.toString(),msgType:pe.Photo,srcId:"0",destId:i,content:{title:_,description:t,href:m,parsedParams:{width:b,height:v}}},a,r),!(e.size>z)){n.next=20;break}return Qt(r(),u,a,L.ErrorTooBigPhoto),n.abrupt("return");case 20:return Qt(r(),u,a,L.Uploading),n.next=23,Ct(e,o,f.upload,i,d);case 23:return j=n.sent,w=D.widgetChatDomain,n.next=27,s.sendPhotoMessageB({toId:i,title:_,clientId:u,photo:j,desc:t,width:b,height:v,wzuId:g},w,d);case 27:se(n.sent.data)?Qt(r(),u,a,L.Sent):Qt(r(),u,a,L.Error),n.next=35;break;case 31:n.prev=31,n.t0=n.catch(7),Qt(r(),u,a,L.Error);case 35:case"end":return n.stop()}}),n,null,[[7,31]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Ut=function(e,t){return function(){var n=Object(g.a)(p.a.mark((function n(a,r,c){var o,s,i,u,l,d,f,g,h,m,b,v,_,j,w,O;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=c.zuploadService,s=c.zchatService,i=r().session.conversationId){n.next=5;break}return n.abrupt("return");case 5:return u=Date.now(),l=r().session,d=l.zoaw_enk,f=l.service_map,g=l.encrWzuId,n.prev=7,n.next=10,zt(e);case 10:if(h=n.sent,m=h.title,b=h.width,v=h.height,_=h.localUrl,j=h.duration,$t({cliMsgId:u.toString(),msgType:pe.Video,srcId:"0",destId:i,content:{title:m,description:t,href:_,thumb:"",parsedParams:{video_width:b,video_height:v}}},a,r),!(e.size>N)){n.next=21;break}return Qt(r(),u,a,L.ErrorTooBigFile),n.abrupt("return");case 21:return Qt(r(),u,a,L.Uploading),n.next=24,Mt(e,o,f.upload,i,d);case 24:return w=n.sent,O=D.widgetChatDomain,n.next=28,s.sendVideoMessage({toId:i,clientId:u,videoUrl:w.url,width:b,height:v,duration:j,thumbUrl:w.thumbnail,wzuId:g},O,d);case 28:se(n.sent.data)?Qt(r(),u,a,L.Sent):Qt(r(),u,a,L.Error),n.next=36;break;case 32:n.prev=32,n.t0=n.catch(7),Qt(r(),u,a,L.Error);case 36:case"end":return n.stop()}}),n,null,[[7,32]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Lt=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l,d;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,o=a().session,s=o.zoaw_enk,i=o.service_map,u=o.encrWzuId,l=a().session.conversationId){t.next=6;break}return t.abrupt("return");case 6:return d=Date.now(),$t({cliMsgId:d.toString(),msgType:pe.Sticker,srcId:"0",destId:l,content:e},n,a),t.prev=8,t.next=11,c.sendStickerMessage(i.message,{toId:l,clientId:d,sticker:e,wzuId:u},s);case 11:se(t.sent)||Qt(a(),d,n,L.Error),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),Qt(a(),d,n,L.Error);case 19:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(e,n,a){return t.apply(this,arguments)}}()},qt=function(){return{type:G}},Ft=function(e,t){return function(){var n=Object(g.a)(p.a.mark((function n(a,r,c){var o,s,i,u,l,d,f,g;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r(),s=o.messaging,i=Date.now(),t=t||s.replyingMsg,n.prev=3,u=!1,!t){n.next=10;break}return n.next=8,Zt(e,t,i,a,r,c);case 8:l=n.sent,u=!0;case 10:if(d=Ge(e),u||!d){n.next=16;break}return n.next=14,Bt(e,d,i,a,r,c);case 14:l=n.sent,u=!0;case 16:if(u){n.next=26;break}f=Je(e),g=0;case 19:if(!(g<f.length)){n.next=26;break}return n.next=22,Vt(f[g],i+g,a,r,c);case 22:l=n.sent;case 23:g++,n.next=19;break;case 26:ie(l)||Qt(r(),i,a,L.Error),n.next=33;break;case 29:n.prev=29,n.t0=n.catch(3),Qt(r(),i,a,L.Error);case 33:case"end":return n.stop()}}),n,null,[[3,29]])})));return function(e,t,a){return n.apply(this,arguments)}}()},Zt=function(e,t,n,a,r,c){var o=c.zchatService,s=r(),i=s.session,u=s.messaging,l=i.service_map,d=i.zoaw_enk,f=i.encrWzuId,p=i.conversationId,g=t||u.replyingMsg;if(!g)throw new Error("replying msg is nill");if(!(null===g||void 0===g?void 0:g.msgId))throw new Error("msgId is nill");if(!p)throw new Error("replying msg is nill");var h,b,v="";switch(g.msgType){case pe.Text:v=g.content;break;case pe.Photo:var _=g.content;v="H\xecnh \u1ea3nh",h=JSON.stringify(Object(m.a)(Object(m.a)({},_),{},{parsedParams:void 0,thumbUrl:_.thumb,oriUrl:_.href,normalUrl:_.href,thumb:_.thumb}));break;case pe.Video:var j=g.content;v="Video",h=JSON.stringify(Object(m.a)(Object(m.a)({},j),{},{parsedParams:void 0,thumbUrl:j.thumb,oriUrl:j.href,normalUrl:j.href,thumb:j.thumb}));break;case pe.Sticker:var w=g.content;h=JSON.stringify(w);break;case pe.File:var O=g.content;h=JSON.stringify(O);break;case pe.Chat_Recommeneded:var y=g.content;h=JSON.stringify(y)}return g.zaMsgInfo&&(b={ownerId:"0"!==g.srcId?g.zaMsgInfo.srcId:g.zaMsgInfo.destId,globalMsgId:g.zaMsgInfo.msgId,cliMsgType:g.zaMsgInfo.msgType}),$t({cliMsgId:n.toString(),msgType:pe.Text,srcId:"0",destId:p,content:e,quote:{ownerId:g.srcId,cliMsgId:g.cliMsgId,globalMsgId:"0",cliMsgType:g.msgType,message:v,parsedAttach:g.msgType!==pe.Text?g.content:void 0,zaQuoteInfo:b,quotedMessage:g}},a,r),a(qt()),o.sendQuoteMessage(l.message,{toId:p,clientId:n,message:e,qmsgOwner:g.srcId,qmsgId:g.msgId,qmsgCliId:g.cliMsgId,qmsg:v,qmsgType:g.msgType,qmsgAttach:h,qmsgTs:g.ts,qzaQuoteInfo:b,wzuId:f},d)},Bt=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a,r,c,o){var s,i,u,l,d,f,g,h,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=c(),i=s.session,u=i.service_map,l=i.conversationId,d=i.encrWzuId,f=o.zchatService,g=o.zwidgetService,l){e.next=5;break}throw new Error("conversationId is nill");case 5:return e.next=7,g.parseLink(n);case 7:if(se(h=e.sent)){e.next=12;break}return e.next=11,Vt(t,a,r,c,o);case 11:return e.abrupt("return",e.sent);case 12:return m=h.data,$t({cliMsgId:a.toString(),msgType:pe.Chat_Recommeneded,srcId:"0",destId:l,content:{action:ge.Link,description:m.desc,href:m.href,thumb:m.thumb,title:t,parsedParams:{mediaTitle:m.title,src:m.href,type:m.type}}},r,c),e.next=16,f.sendLinkMessage({toId:l,clientId:a,msg:t,href:m.href,src:n,title:m.title,desc:m.desc,thumb:m.thumb,type:le.Default,media:JSON.stringify(h.data.media),wzuId:d},u.message,i.zoaw_enk);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,o){return e.apply(this,arguments)}}(),Vt=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a,r,c){var o,s,i,u,l,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.zchatService,s=r(),i=s.session,u=i.service_map,l=i.conversationId,d=i.zoaw_enk,f=i.encrWzuId,!(u.message.length<=0)){e.next=5;break}throw new Error("service_map.message is empty!");case 5:if(l){e.next=7;break}throw new Error("conversation is nil");case 7:return $t({cliMsgId:n.toString(),msgType:pe.Text,srcId:"0",destId:l,content:t},a,r),e.next=10,o.sendTextMessage(u.message,{toId:l,clientId:n,message:t,wzuId:f},d);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a,r,c){var o,s,i,u,l,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.zchatService,s=r(),i=s.session,u=i.service_map,l=i.conversationId,d=i.zoaw_enk,f=i.encrWzuId,!(u.message.length<=0)){e.next=5;break}throw new Error("service_map.message is empty!");case 5:if(l){e.next=7;break}throw new Error("conversation is nil");case 7:return $t({cliMsgId:n.toString(),msgType:pe.Text,srcId:"0",destId:l,content:t},a,r),e.next=10,o.sendTextMessage(u.message,{toId:l,clientId:n,message:t,wzuId:f},d);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),Gt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(g.a)(p.a.mark((function n(a,r,c){var o,s,i,u,d,f,g,h,b,v,_,j,w,O,y,k,x;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r().messaging,u=null===(o=r().app.oaInfo)||void 0===o?void 0:o.name,d=null===(s=r().app.oaInfo)||void 0===s?void 0:s.id,f=i.messages,g=i.messagesInfo,h=i.myLastMsgId,b=i.newMsgCount,0===f.length&&(f.unshift({cliMsgId:"".concat(Date.now()),content:"Xin ch\xe0o! ".concat(u," r\u1ea5t vui \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1ea1n."),destId:"0",msgId:"-9999",msgType:1,srcId:"".concat(d),ts:"0",ttl:0}),g[f[0].cliMsgId]={index:0,state:0}),v=e.messages.reverse(),_=b,j=r().app.shouldShowBox,t&&!_t(v[0])&&!jt(v[0])&&!j&&(_=b+1),w=Object(oe.a)(v);try{for(w.s();!(O=w.n()).done;)y=O.value,Kt(y),Yt(y),(k=g[y.cliMsgId])?(f[k.index]=y,g[y.cliMsgId]=Object(m.a)(Object(m.a)({},k),{},{state:L.Sent})):(f.push(y),g[y.cliMsgId]={index:f.length-1,state:L.Sent}),Xt(y,a),jt(y)&&(h=y.cliMsgId)}catch(p){w.e(p)}finally{w.f()}(x=e.lastReceivedMessageId)&&(g[x]=Object(m.a)(Object(m.a)({},g[x]),{},{state:L.Delivered})),Object(l.b)((function(){a(en({messages:f,messagesInfo:g,myLastMsgId:h})),a(nn(_))})),Ht(a,r,c),i.typing.onGoing&&i.typing.cancelId&&(clearTimeout(i.typing.cancelId),a(It({cancelId:null,onGoing:!1})));case 17:case"end":return n.stop()}}),n)})));return function(e,t,a){return n.apply(this,arguments)}}()},Ht=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().messaging.messages.forEach((function(e){return Jt(e,t,n,a)}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(g.a)(p.a.mark((function e(t,n,a,r){var c,o,s,i,u,l,d,f,g,m;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.msgType===pe.Text){e.next=2;break}return e.abrupt("return");case 2:if(c=Ge(t.content)){e.next=5;break}return e.abrupt("return");case 5:return o=r.zwidgetService,e.next=8,o.parseLink(c);case 8:if(se(s=e.sent)){e.next=11;break}return e.abrupt("return");case 11:i=a().session.conversationId,u=a().messaging,l=u.messages,d=u.messagesInfo,f=u.myLastMsgId,g=kt((null===i||void 0===i?void 0:i.toString())||"","0",t,s.data),(m=d[t.cliMsgId])&&(l[m.index]=g,n(en({messages:Object(h.a)(l),messagesInfo:d,myLastMsgId:f})));case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Kt=function(e){var t=e.msgType;try{switch(t){case pe.Photo:case pe.Video:case pe.Chat_Recommeneded:case pe.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},Yt=function(e){var t;(null===(t=e.quote)||void 0===t?void 0:t.attach)&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},Xt=function(e,t){var n;if(e.msgType===pe.Sticker){var a=e.content.catId;t(je(a))}if((null===(n=e.quote)||void 0===n?void 0:n.cliMsgType)===pe.Sticker){var r,c=(null===(r=e.quote)||void 0===r?void 0:r.parsedAttach).catId;t(je(c))}},Qt=function(e,t,n,a){var r=e.messaging,c=r.messages,o=r.messagesInfo;o[t]=Object(m.a)(Object(m.a)({},o[t]),{},{state:a}),n(en({messages:Object(h.a)(c),messagesInfo:o}))},$t=function(e,t,n){var a=n().messaging,r=a.messages,c=a.messagesInfo;c[e.cliMsgId]={index:r.length,state:L.Sending},setTimeout((function(){c[e.cliMsgId].state===L.Sending&&Qt(n(),Number.parseInt(e.cliMsgId),t,L.Error)}),D.sendDuration),t(en({messages:[].concat(Object(h.a)(r),[e]),messagesInfo:c}))},en=function(e){return{type:B,payload:e}},tn=function(e){return{type:H,payload:e}},nn=function(e){return{type:J,payload:e}},an=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.b)((function(){t(tn(r.Loading)),t(en({messages:[],messagesInfo:{},myLastMsgId:""})),t(qt())})),e.abrupt("return",ce.ZErrCode.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rn=function(e,t,n,a){return{type:U,payload:{status:e,oaInfo:n,appInfo:t,zuserInfo:a}}},cn=function(e){return{type:P,payload:e}},on=function(e){return{type:A,payload:e}},sn=function(e){return{type:R,payload:e}},un=function(e){return{type:te,payload:e}},ln=function(e,t){return{type:re,payload:{connectionState:e,pingIntervalId:t}}},dn=function(e,t){var n=function(e){return JSON.parse((new TextDecoder).decode(new Uint8Array(e,4)))}(e);switch(t||(t=n.key),n.encrypt){case de.Zip:n.data=Object(Ne.e)(n.data);break;case de.GZIP_AES128_GCM:var a=Object(Ne.b)(n.data,t);n.data=Object(Ne.f)(a)}return n},fn=function(){return{type:$e,payload:void 0}},pn=function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){var a,r,c,o,s,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.total,r=[],c=(c=e.messages).reverse(),o=Object(oe.a)(c);try{for(o.s();!(s=o.n()).done;)i=s.value,gn(i),hn(i),r.push(i)}catch(u){o.e(u)}finally{o.f()}n({type:Qe,payload:{messages:r,total:a}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},gn=function(e){var t=e.msgType;try{switch(t){case pe.Photo:case pe.Video:case pe.Chat_Recommeneded:case pe.File:e.content.parsedParams=JSON.parse(e.content.params);break;default:e.content.params&&(e.content.parsedParams=JSON.parse(e.content.params))}}catch(n){}},hn=function(e){var t;(null===(t=e.quote)||void 0===t?void 0:t.attach)&&(e.quote.parsedAttach=JSON.parse(e.quote.attach))},mn=function(e){return{type:q,payload:e}},bn=function(e){return{type:F,payload:e}},vn=function(){return{type:Z}};!function(e){e[e.CLOSE_CONVERSATION=1]="CLOSE_CONVERSATION",e[e.OPEN_CONVERSATION=2]="OPEN_CONVERSATION",e[e.UPGRADE_CONVERSATION=3]="UPGRADE_CONVERSATION"}(St||(St={}));var _n,jn=new function e(){Object(ye.a)(this,e),this.postMessage=function(){var e=Object(g.a)(p.a.mark((function e(t){var n,a,r,c,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ht.getState().session,a=n.service_map,r=n.conversationId,c=n.encrWzuId,o=n.zoaw_enk,r){e.next=3;break}throw new Error("conversationId is nill");case 3:try{s={type:t,payload:{oaIdPublic:ht.getState().app.oaIdPublic,tabId:ht.getState().app.tabId}},i=JSON.stringify(s),qe.sendControl(a.message,{toId:r,data:i,wzuId:c},o)}catch(u){}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handle=function(e,t){var n,a=JSON.parse(e.ctrlMsg);if((null===(n=a.payload)||void 0===n?void 0:n.tabId)!==t.getState().app.tabId){var r=t.dispatch;switch(a.type){case St.CLOSE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&Object(l.b)((function(){r(vn()),r(fn()),r(an())}));break;case St.OPEN_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Un());break;case St.UPGRADE_CONVERSATION:a.payload.oaIdPublic===t.getState().app.oaIdPublic&&r(Un())}}}},wn=(_n={},Object(Me.a)(_n,fe.Receive_Message,(function(e,t){se(e)&&t.dispatch(Gt({messages:[e.data],total:1}))})),Object(Me.a)(_n,fe.Typing_Message,(function(e,t){se(e)&&t.dispatch(function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n().messaging.typing.cancelId)&&clearTimeout(a),r=setTimeout((function(){t(It({onGoing:!1,cancelId:null}))}),D.showTypingDuration),t(It({onGoing:!0,cancelId:r}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(Me.a)(_n,fe.Delivered_Message,(function(e,t){se(e)&&t.dispatch(function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n().messaging,r=a.messages,c=a.messagesInfo,Object.keys(c).forEach((function(e){var t=c[e];c[e]=Object(m.a)(Object(m.a)({},t),{},{state:L.Delivered})})),t(en({messages:r,messagesInfo:c}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})),Object(Me.a)(_n,fe.Seen_Message,(function(e,t){se(e)})),Object(Me.a)(_n,fe.Load_Thread_Chat,(function(e,t){var n;t.dispatch((n=e.data,function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(tn(r.Done)),t(Gt(n,!1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),Object(Me.a)(_n,fe.Pull_Offline_Message,(function(e,t){})),Object(Me.a)(_n,fe.Control,(function(e,t){jn.handle(e.data,t)})),Object(Me.a)(_n,fe.Load_History_Chat,(function(e,t){var n;t.dispatch((n=e.data,function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(pn(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))})),_n),On=0,yn=0,kn=2e3,xn=function(e){return{type:ee,promise:e}},In=function(){return xn((function(e,t){var n=De(t.getState().session.service_map.web_socket);return e.connect(n)}))},Sn=function(){return xn((function(e,t){return e.onmessage((function(e){var n=new FileReader;n.readAsArrayBuffer(e.data),n.onload=function(e){var a,r=n.result,c=new DataView(r),o=(c.getUint8(0),c.getUint16(1,!0));switch(o){case fe.Ping:break;case fe.Authentication:var s=dn(r);t.dispatch((a=s.key,{type:ae,payload:a})),t.dispatch(Tn());break;case fe.Create_Connection:t.dispatch(Dn());break;default:var i=function(e){try{return JSON.parse(e)}catch(t){return JSON.parse("{}")}}(dn(r,t.getState().zwebsocket.zws_key).data);if(!se(i))break;var u=wn[o];u&&se(i)&&u(i,t)}}}))}))},Nn=function(){return xn((function(e,t){return e.onclose((function(e){var n=t.getState().zwebsocket.pingIntervalId;n&&clearInterval(n),On<yn?(++On,t.dispatch(un($.Connecting)),setTimeout((function(){return t.dispatch(In())}),kn)):t.dispatch(un($.Closed))}))}))},zn=function(){return xn((function(e,t){return e.onerror((function(e){}))}))},Cn=function(){return xn((function(e){return e.onopen((function(e){}))}))},En=function(e){return xn((function(t,n){return n.getState().zwebsocket.connectionState!==$.Connected?Promise.reject("Not authenticated, cannot send message"):t.send(e).catch((function(e){}))}))},Mn=function(e,t){var n=xe.createLoadThreadChat({conversationId:t,lastMsgId:"0"});e(En(n));var a=xe.createPullOfflineMessage({conversationId:t,lastMsgId:"0"});return e(En(a)),ce.ZErrCode.Success},Tn=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xe.createPingMessage(),r=setInterval((function(){t(En(a))}),D.pingInterval),t(ln($.Connected,r)),c=xe.createConnection({oaId:n().app.oaIdPublic}),t(En(c)),e.abrupt("return",ce.ZErrCode.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Dn=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n){var a,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(a=n().app.oaInfo)||void 0===a?void 0:a.id,c=n().session.encrWzuId,r){e.next=4;break}throw new Error("conversationId is empty!");case 4:return o="".concat(r,"_").concat(c),Mn(t,o),e.abrupt("return",ce.ZErrCode.Success);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Pn=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.b)((function(){t(In()),t(Cn()),t(Nn()),t(zn()),t(Sn())})),e.abrupt("return",ce.ZErrCode.Success);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue.Anonymous;return function(){var t=Object(g.a)(p.a.mark((function t(n,a,c){var o,s,i,u,d,f,g;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=c.zchatService,s=c.zwidgetService,t.prev=1,n(bn(r.Loading)),i=a().app.oaIdPublic,t.next=6,ze(e);case 6:return u=t.sent,t.next=9,o.getSessionInfo(e,u,i);case 9:if(se(d=t.sent)){t.next=14;break}return n(bn(r.Failed)),t.abrupt("return",ce.ZErrCode.Failed);case 14:return t.next=16,s.getWidgetOAInfo(i);case 16:if(se(f=t.sent)){t.next=21;break}return n(bn(r.Failed)),t.abrupt("return",ce.ZErrCode.Failed);case 21:if(g=null,e!==ue.Zalo){t.next=27;break}return t.next=25,s.getZUserInfo();case 25:se(g=t.sent);case 27:return Object(l.b)((function(){n(mn(Object(m.a)(Object(m.a)({},a().session),{},{status:r.Done,service_map:d.data.service_map,conversationId:f.data.id,zoaw_enk:d.data.zoaw_enk,globalId:d.data.global_id,encrWzuId:d.data.wzu_id||"",conversationType:e,zconv_id:d.data.zconv_id||""}))),n(on(f.data)),n(Pn()),n(_e()),g&&se(g)&&n(cn(g.data))})),jn.postMessage(St.OPEN_CONVERSATION),t.abrupt("return",ce.ZErrCode.Success);case 32:return t.prev=32,t.t0=t.catch(1),n(bn(r.Failed)),t.abrupt("return",ce.ZErrCode.Exception);case 37:case"end":return t.stop()}}),t,null,[[1,32]])})));return function(e,n,a){return t.apply(this,arguments)}}()},Rn=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var c,o,s,i,u,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.zwidgetService,o=a.zchatService,e.prev=1,s=ZA.getVisitorID(),i=n().app.oaIdPublic,e.next=6,o.upgradeSessionInfo(i,s);case 6:if(se(u=e.sent)){e.next=10;break}return e.abrupt("return",ce.ZErrCode.Failed);case 10:if(d=null,n().app.zuserInfo){e.next=17;break}return e.next=15,c.getZUserInfo();case 15:se(d=e.sent);case 17:return e.next=19,c.getWidgetOAInfo(i);case 19:return se(f=e.sent),Object(l.b)((function(){t(mn(Object(m.a)(Object(m.a)({},n().session),{},{status:r.Done,conversationId:u.data.oa.id,service_map:u.data.session.service_map,zoaw_enk:u.data.session.zoaw_enk,globalId:u.data.session.global_id,encrWzuId:u.data.wzu_id||"",conversationType:ue.Zalo,zconv_id:u.data.zconv_id||""}))),t(on(u.data.oa)),t(function(){var e=Object(g.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(l.b)((function(){t(In()),t(Cn()),t(Nn()),t(zn()),t(Sn())})),e.abrupt("return",ce.ZErrCode.Success);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t(an()),d&&se(d)&&t(cn(d.data)),f&&se(f)&&t(on(f.data))})),jn.postMessage(St.UPGRADE_CONVERSATION),e.abrupt("return",ce.ZErrCode.Success);case 26:return e.prev=26,e.t0=e.catch(1),e.abrupt("return",ce.ZErrCode.Exception);case 30:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Un=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var c,o,s,i,u,d,f,g,h,b,v;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.zchatService,o=a.zwidgetService,e.prev=1,s=n().app.oaIdPublic,i=n().session.conversationType,u=i!==ue.Unknown?i:ue.Anonymous,e.next=7,ze(u);case 7:return d=e.sent,e.next=10,c.loginTab(d,s);case 10:if(se(f=e.sent)){e.next=15;break}return t(bn(r.Failed)),e.abrupt("return",ce.ZErrCode.Failed);case 15:return g=o.getWidgetOAInfo(s),h=o.getZUserInfo(),e.next=19,g;case 19:if(se(b=e.sent)){e.next=24;break}return t(bn(r.Failed)),e.abrupt("return",ce.ZErrCode.Failed);case 24:return e.next=26,h;case 26:return se(v=e.sent),Object(l.b)((function(){t(mn(Object(m.a)(Object(m.a)({},n().session),{},{status:r.Done,service_map:f.data.service_map,conversationId:b.data.id,zoaw_enk:f.data.zoaw_enk,globalId:f.data.global_id,encrWzuId:f.data.wzu_id||"",conversationType:f.data.c_type||ue.Unknown,zconv_id:f.data.zconv_id||""}))),t(on(b.data)),t(_e()),t(cn(v.data)),t(Pn())})),e.abrupt("return",ce.ZErrCode.Success);case 32:return e.prev=32,e.t0=e.catch(1),t(bn(r.Failed)),e.abrupt("return",ce.ZErrCode.Exception);case 37:case"end":return e.stop()}}),e,null,[[1,32]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Ln=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var r,c,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zchatService,e.prev=1,c=n().app.oaIdPublic,o=n().session.conversationType,s=o!==ue.Unknown?o:ue.Anonymous,e.next=8,ze(s);case 8:return i=e.sent,e.next=11,r.closeSession(c,i);case 11:if(se(e.sent)){e.next=15;break}return e.abrupt("return",ce.ZErrCode.Failed);case 15:return Object(l.b)((function(){t(vn()),t(fn()),t(an())})),jn.postMessage(St.CLOSE_CONVERSATION),e.abrupt("return",ce.ZErrCode.Success);case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",ce.ZErrCode.Exception);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t,n,a){return e.apply(this,arguments)}}()},qn=function(){return function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var r,c,o,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.zwidgetService,e.prev=1,c=n().app,o=c.oaIdPublic,s=c.oaInfo,e.next=5,r.followOA(o);case 5:if(se(i=e.sent)){e.next=9;break}return e.abrupt("return",ce.ZErrCode.Failed);case 9:return t(on(Object(m.a)(Object(m.a)({},s),{},{isFollow:i.data.ret}))),e.abrupt("return",ce.ZErrCode.Success);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",ce.ZErrCode.Exception);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n,a){return e.apply(this,arguments)}}()},Fn=new function e(){var t=this;Object(ye.a)(this,e),this.getZaloMeLink=function(){var e=ht.getState().app.oaIdPublic;return e?D.zaloMeDomain.replace("{oaId}",e):"https://chat.zalo.me/"},this.getZaloWebLink=function(){var e=ht.getState().session.zconv_id;return e&&"0"!==e?D.zaloWebDomain.replace("{convId}",e):""},this.getZaloPcLink=function(){var e=ht.getState().app.oaIdPublic;return D.zaloPcDomain.replace("{convId}",e)},this.openZaloWeb=function(e){window.fetch("https://chat.zalo.me/jr/userinfo",{credentials:"include"}).then((function(e){return e.json()})).then((function(n){var a=n.error_code,r=n.data.logged;if(0===a&&r){var c,o=t.getZaloWebLink();null===(c=window.open(o,"_blank"))||void 0===c||c.focus(),e&&e()}else t.openZaloPc(),e&&e()})).catch((function(){t.openZaloPc(),e&&e()}))},this.openZaloPc=function(){var e=t.getZaloPcLink();window.ZaloPC.open(e,(function(e){"unsupport"===e?t.openZaloWeb():t.logZaloPc("PC")}))},this.logZaloPc=function(e){var t=ht.getState().app.oaIdPublic;qe.sendLogChatPc(e,t)},this.logLoadWidget=function(){var e=ht.getState().app.oaIdPublic;qe.sendLog("7",e)},this.logOpenWidget=function(){var e=ht.getState().app.oaIdPublic;qe.sendLog("8",e)}},Zn=function(e){return!(!e.oaid||0===e.oaid.length)},Bn=window.location.search,Vn=new URLSearchParams(Bn).get("oaid"),Wn=new function e(t){var n=this;Object(ye.a)(this,e),this.publicOaId=void 0,this.log=function(e,t){new Promise((function(){t?window.ztr("track",e,t):window.ztr("track",e)}))},this.logLoginAnonymous=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logLogin=function(){n.log("LoginAnonymous",{oaId:n.publicOaId})},this.logOpenChatHead=function(){n.log("OpenChatHead",{oaId:n.publicOaId})},this.logCloseChatHead=function(){n.log("CloseChatHead",{oaId:n.publicOaId})},this.logStartThreadChat=function(){n.log("StartThreadChat",{oaId:n.publicOaId})},this.logEndThreadChat=function(){n.log("EndThreadChat",{oaId:n.publicOaId})},this.logMuteChat=function(){n.log("MuteChat",{oaId:n.publicOaId})},this.logSendMessage=function(){n.log("SendMessage",{oaId:n.publicOaId})},this.logReceiveMessage=function(){n.log("ReceiveMessage",{oaId:n.publicOaId})},this.publicOaId=t}(Vn||""),Gn=n(298),Hn=["image/jpeg","image/png","image/jpg","image/gif"],Jn=["video/mp4"],Kn=function(e){return Hn.some((function(t){return e.includes(t)}))},Yn=function(e){return Jn.some((function(t){return e.includes(t)}))},Xn=function(e){var t=e.open,n=void 0!==t&&t,a=e.onClose,r=Object(Gn.a)().t,o=Object(l.d)(),s=Rt,i=Ut,u=At,d=Kn,f=Yn;return Object(c.jsx)(c.Fragment,{children:n&&Object(c.jsx)("div",{className:"drag-drop-zone",onDragLeave:a,onDragOver:function(e){return e.preventDefault()},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.files,n=t.length;if(t&&0!==n){for(var r=function(e){var n=t[e];d(n.type)?setTimeout((function(){return o(s(n,""))}),250*e):f(n.type)?setTimeout((function(){return o(i(n,""))}),250*e):setTimeout((function(){return o(u(n))}),250*e)},c=0;c<n;c++)r(c);null===a||void 0===a||a()}},children:r("dragdropzone.drop")})})},Qn=function(e){var t=e.loginURL,n=e.width,a=e.height,r=e.title,c=window.screen.width/2-250+(window.screenLeft?window.screenLeft:window.screenX?window.screenX:0),o=window.screen.height/2-350+(window.screenTop?window.screenTop:window.screenY?window.screenY:0);return window.open(t,r,"height="+a+",width="+n+",left="+c+",top="+o)},$n=function(e){var t=e.imgSrc,n=e.isActivated;return t?Object(c.jsxs)("figure",{className:"image avatar avatar--oa",children:[Object(c.jsx)("img",{src:t,alt:""}),n&&Object(c.jsx)("div",{className:"oa-active"})]}):null},ea=n(159),ta=function(e){var t=e.title,n=e.desc;return Object(c.jsxs)("div",{className:"oa-info",children:[Object(c.jsx)("p",{"data-tip":!0,"data-for":"titleTip",className:"oa-name has-one-line wb-break-all",children:t}),!!n&&Object(c.jsx)("p",{children:n}),Object(c.jsx)(ea.a,{id:"titleTip",place:"top",effect:"solid",children:t})]})},na=function(e){var t=e.iconName,n=e.falName,a=e.isCircle,r=e.handleClick;return t?a?Object(c.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(c.jsx)("i",{className:"icon ".concat(t),style:{color:"white"}})}):Object(c.jsx)("i",{className:"icon ".concat(t),onClick:r}):a?Object(c.jsx)("div",{className:"circle-icon button",onClick:r,children:Object(c.jsx)("i",{className:"fal ".concat(n),style:{color:"white"}})}):Object(c.jsx)("i",{className:"fal ".concat(n),onClick:r})},aa=Object(l.c)((function(e){return{app:e.app,session:e.session}}),(function(e){return{updateShowBox:function(t){return e(sn(t))}}})),ra=function(e){var t=e.imgSrc,n=Object(Gn.a)().t;return Object(c.jsxs)("div",{className:"box__welcome",children:[Object(c.jsx)("h1",{children:n("chatheader.hello")}),Object(c.jsx)("h3",{children:n("chatheader.welcome")}),t&&Object(c.jsx)("div",{className:"avatar--user",children:Object(c.jsx)("figure",{className:"image avatar",children:Object(c.jsx)("img",{src:t,alt:""})})})]})},ca=aa((function(e){var t,n,a,i=e.updateShowBox,u=e.showMessageView,l=e.closeConversation,f=(e.upgradeUser,e.app),p=e.session,g=Object(o.useState)(!0),h=Object(d.a)(g,2),m=h[0],b=h[1];s.a.useEffect((function(){var e=function(){b(!0)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}),[]);var v=Object(Gn.a)().t,_=f.status===r.Done&&p.conversationType===ue.Zalo,j=f.status===r.Done,w=f.status===r.Done&&p.conversationType!==ue.Unknown,O=p.conversationType===ue.Anonymous?"/static/images/ava-anonymous.png":null===(t=f.zuserInfo)||void 0===t?void 0:t.avatar,y=f.status===r.Done&&p.conversationType!==ue.Unknown,k="https://developers.zalo.me/docs/social/zalo-chat-widget",x=Fn.getZaloWebLink(),I=Object(c.jsx)("a",{className:"option-popup button",href:k,target:"tab",children:v("chatheader.setupwidget")}),S=Object(c.jsxs)(o.Fragment,{children:[_&&Object(c.jsx)("a",{className:"option-popup button",href:x,rel:"noreferrer",target:"_blank",children:v("chatheader.chatpc")}),!1,Object(c.jsx)("a",{className:"option-popup button",href:k,rel:"noreferrer",target:"_blank",children:v("chatheader.setupwidget")}),j&&Object(c.jsx)("a",{className:"option-popup button text-warning",onClick:l,children:v("chatheader.end")})]});return Object(c.jsxs)("div",{className:"box__top",children:[Object(c.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(c.jsxs)("div",{className:"media-left is-flex items-center overflow-init",children:[Object(c.jsx)($n,{imgSrc:(null===(n=f.oaInfo)||void 0===n?void 0:n.avatar)||"",isActivated:!0}),Object(c.jsx)(ta,{title:(null===(a=f.oaInfo)||void 0===a?void 0:a.name)||""})]}),Object(c.jsxs)("div",{className:"media-right",children:[Object(c.jsxs)("span",{className:"circle-icon dropdown button",onClick:function(e){e.stopPropagation(),b((function(e){return!e}))},children:[Object(c.jsx)("i",{className:"far fa-ellipsis-h",style:{color:"white"}}),Object(c.jsxs)("div",{className:"dropdown-content ".concat(m&&"is-hidden"),children:[Object(c.jsx)("div",{className:"triangle"}),y?S:I]})]}),Object(c.jsx)(na,{isCircle:!0,falName:"fa-chevron-down",handleClick:function(){var e,t;e=window.zsp_min_width,t=window.zsp_min_height,window.onChangeSizeIframe(e,t),i(!1),Wn.logCloseChatHead()}})]})]}),!u&&Object(c.jsx)(ra,{imgSrc:w&&O||""})]})})),oa=(n(290),function(e){var t=e.keyword,n=e.position,a=e.className;return Object(c.jsx)("span",{className:a,style:{background:"url(".concat("static/images/emoji.png",") ").concat(n," / 5100%  no-repeat"),width:45,height:45,display:"inline-block"},"data-keyword":t})}),sa={":)":"82.00% 17.50%",":~":"84.00% 37.50%",":b":"82.00% 30.00%",":')":"82.00% 05.00%","8-)":"82.00% 45.00%",":-((":"84.00% 02.50%",":$":"82.00% 20.00%",":3":"82.00% 37.50%",":z":"84.00% 50.00%",":((":"82.00% 95.00%","&-(":"84.00% 35.00%",":-h":"84.00% 05.00%",":p":"82.00% 40.00%",":d":"82.00% 00.00%",":o":"84.00% 20.00%",":(":"82.00% 85.00%",";-)":"82.00% 50.00%","--b":"84.00% 30.00%",":))":"82.00% 10.00%",":-*":"82.00% 32.50%",";p":"82.00% 22.50%",";-d":"82.00% 27.50%","/-showlove":"82.00% 25.00%",";d":"82.00% 60.00%",";o":"82.00% 87.50%",";g":"82.00% 42.50%","|-)":"84.00% 45.00%",":!":"84.00% 00.00%",":l":"82.00% 70.00%",":>":"82.00% 07.50%",":;":"82.00% 47.50%",";f":"82.00% 57.50%",":v":"82.00% 55.00%",":wipe":"84.00% 32.50%",":-dig":"82.00% 80.00%",":handclap":"82.00% 77.50%","b-)":"82.00% 02.50%",":-r":"82.00% 72.50%",":-<":"82.00% 65.00%",":-o":"84.00% 47.50%",";-s":"84.00% 07.50%",";?":"84.00% 17.50%",";-x":"82.00% 75.00%",":-f":"84.00% 40.00%","8*)":"84.00% 25.00%",";!":"82.00% 100.00%",";-!":"84.00% 52.50%",";xx":"84.00% 12.50%",":-bye":"82.00% 12.50%",">-|":"82.00% 82.50%","p-(":"82.00% 90.00%",":--|":"82.00% 92.50%",":q":"84.00% 10.00%","x-)":"82.00% 52.50%",":*":"82.00% 35.00%",";-a":"84.00% 22.50%","8*":"82.00% 97.50%",":|":"82.00% 67.50%",":x":"84.00% 27.50%",":t":"84.00% 42.50%",";-/":"84.00% 15.00%",":-l":"82.00% 62.50%","$-)":"82.00% 15.00%","/-beer":"84.00% 55.00%","/-coffee":"84.00% 57.50%","/-rose":"84.00% 60.00%","/-fade":"84.00% 62.50%","/-bd":"84.00% 65.00%","/-bome":"84.00% 67.50%","/-cake":"84.00% 70.00%","/-heart":"84.00% 72.50%","/-break":"84.00% 75.00%","/-shit":"84.00% 77.50%","/-li":"84.00% 80.00%","/-flag":"86.00% 07.50%","/-strong":"84.00% 82.50%","/-weak":"84.00% 85.00%","/-ok":"84.00% 87.50%","/-v":"84.00% 90.00%","/-thanks":"84.00% 92.50%","/-punch":"84.00% 95.00%","/-share":"84.00% 97.50%","_()_":"84.00% 100.00%","/-no":"86.00% 00.00%","/-bad":"86.00% 02.50%","/-loveu":"86.00% 05.00%",":B":"82.00% 30.00%",":Z":"84.00% 50.00%",":-H":"84.00% 05.00%",":P":"82.00% 40.00%",":D":"82.00% 00.00%",":O":"84.00% 20.00%","--B":"84.00% 30.00%",";P":"82.00% 22.50%",";-D":"82.00% 27.50%",";D":"82.00% 60.00%","/-SHOWLOVE":"82.00% 25.00%",";O":"82.00% 87.50%",";G":"82.00% 42.50%",":L":"82.00% 70.00%",";F":"82.00% 57.50%",":V":"82.00% 55.00%",":WIPE":"84.00% 32.50%",":-DIG":"82.00% 80.00%",":HANCLAP":"82.00% 77.50%","B-)":"82.00% 02.50%",":-R":"82.00% 72.50%",":-O":"84.00% 47.50%",";-S":"84.00% 07.50%",";-X":"82.00% 75.00%",":-F":"84.00% 40.00%",";XX":"84.00% 12.50%",":-BYE":"82.00% 12.50%","P-(":"82.00% 90.00%",":Q":"84.00% 10.00%","X-)":"82.00% 52.50%",";-A":"84.00% 22.50%",":X":"84.00% 27.50%",":T":"84.00% 42.50%",":-L":"82.00% 62.50%","/-BEER":"84.00% 55.00%","/-COFFEE":"84.00% 57.50%","/-ROSE":"84.00% 60.00%","/-FADE":"84.00% 62.50%","/-BD":"84.00% 65.00%","/-BOME":"84.00% 67.50%","/-CAKE":"84.00% 70.00%","/-HEART":"84.00% 72.50%","/-BREAK":"84.00% 75.00%","/-SHIT":"84.00% 77.50%","/-LI":"84.00% 80.00%","/-FLAG":"86.00% 07.50%","/-STRONG":"84.00% 82.50%","/-WEAK":"84.00% 85.00%","/-OK":"84.00% 87.50%","/-V":"84.00% 90.00%","/-THANKS":"84.00% 92.50%","/-PUNCH":"84.00% 95.00%","/-SHARE":"84.00% 97.50%","/-NO":"86.00% 00.00%","/-BAD":"86.00% 02.50%","/-LOVEU":"86.00% 05.00%",";8":"84.00% 10.00%",":-|":"86.00% 10.00%",":+":"86.00% 12.50%",":grinning:":"52.00% 50.00%",":grimacing:":"54.00% 57.50%",":grin:":"52.00% 52.50%",":joy:":"52.00% 55.00%",":smiley:":"52.00% 57.50%",":smile:":"52.00% 60.00%",":sweat_smile:":"52.00% 62.50%",":laughing:":"52.00% 65.00%",":innocent:":"52.00% 67.50%",":wink:":"52.00% 72.50%",":blush:":"52.00% 75.00%",":slightly_smiling_face:":"56.00% 10.00%",":upside_down_face:":"56.00% 12.50%",":relaxed:":"02.00% 62.50%",":yum:":"52.00% 77.50%",":relieved:":"52.00% 80.00%",":heart_eyes:":"52.00% 82.50%",":kissing_heart:":"54.00% 07.50%",":kissing:":"54.00% 05.00%",":kissing_smiling_eyes:":"54.00% 10.00%",":kissing_closed_eyes:":"54.00% 12.50%",":stuck_out_tongue_winking_eye:":"54.00% 17.50%",":stuck_out_tongue_closed_eyes:":"54.00% 20.00%",":stuck_out_tongue:":"54.00% 15.00%",":money_mouth_face:":"64.00% 17.50%",":nerd_face:":"64.00% 22.50%",":sunglasses:":"52.00% 85.00%",":hugging_face:":"64.00% 32.50%",":smirk:":"52.00% 87.50%",":no_mouth:":"54.00% 82.50%",":neutral_face:":"52.00% 90.00%",":expressionless:":"52.00% 92.50%",":unamused:":"52.00% 95.00%",":face_with_rolling_eyes:":"56.00% 15.00%",":thinking_face:":"64.00% 25.00%",":flushed:":"54.00% 75.00%",":disappointed:":"54.00% 22.50%",":worried:":"54.00% 25.00%",":angry:":"54.00% 27.50%",":rage:":"54.00% 30.00%",":pensive:":"52.00% 100.00%",":confused:":"54.00% 00.00%",":slightly_frowning_face:":"56.00% 07.50%",":white_frowning_face:":"02.00% 60.00%",":persevere:":"54.00% 35.00%",":confounded:":"54.00% 02.50%",":tired_face:":"54.00% 55.00%",":weary:":"54.00% 50.00%",":triumph:":"54.00% 37.50%",":open_mouth:":"54.00% 62.50%",":scream:":"54.00% 70.00%",":fearful:":"54.00% 47.50%",":cold_sweat:":"54.00% 67.50%",":hushed:":"54.00% 65.00%",":frowning:":"54.00% 42.50%",":anguished:":"54.00% 45.00%",":cry:":"54.00% 32.50%",":disappointed_relieved:":"54.00% 40.00%",":sleepy:":"54.00% 52.50%",":sweat:":"52.00% 97.50%",":sob:":"54.00% 60.00%",":dizzy_face:":"54.00% 80.00%",":astonished:":"54.00% 72.50%",":zipper_mouth_face:":"64.00% 15.00%",":mask:":"54.00% 85.00%",":face_with_thermometer:":"64.00% 20.00%",":face_with_head_bandage:":"64.00% 27.50%",":sleeping:":"54.00% 77.50%",":zzz:":"40.00% 40.00%",":hankey:":"40.00% 52.50%",":smiling_imp:":"52.00% 70.00%",":imp:":"36.00% 77.50%",":japanese_ogre:":"36.00% 50.00%",":japanese_goblin:":"36.00% 52.50%",":skull:":"36.00% 80.00%",":ghost:":"36.00% 55.00%",":alien:":"36.00% 72.50%",":robot_face:":"64.00% 30.00%",":smiley_cat:":"54.00% 92.50%",":smile_cat:":"54.00% 87.50%",":joy_cat:":"54.00% 90.00%",":heart_eyes_cat:":"54.00% 95.00%",":smirk_cat:":"54.00% 97.50%",":kissing_cat:":"54.00% 100.00%",":scream_cat:":"56.00% 05.00%",":crying_cat_face:":"56.00% 02.50%",":pouting_cat:":"56.00% 00.00%",":raised_hands:":"56.00% 85.00%",":clap:":"30.00% 52.50%",":wave:":"28.00% 95.00%",":+1:":"30.00% 22.50%",":-1:":"30.00% 37.50%",":facepunch:":"28.00% 80.00%",":fist:":"06.00% 22.50%",":v:":"06.00% 52.50%",":ok_hand:":"30.00% 07.50%",":hand:":"06.00% 37.50%",":open_hands:":"30.00% 67.50%",":muscle:":"40.00% 55.00%",":pray:":"58.00% 27.50%",":point_up:":"02.00% 25.00%",":point_up_2:":"28.00% 20.00%",":point_down:":"28.00% 35.00%",":point_left:":"28.00% 50.00%",":point_right:":"28.00% 65.00%",":middle_finger:":"50.00% 60.00%",":raised_hand_with_fingers_splayed:":"50.00% 45.00%",":the_horns:":"64.00% 35.00%",":spock-hand:":"50.00% 75.00%",":writing_hand:":"06.00% 67.50%",":nail_care:":"38.00% 27.50%",":lips:":"28.00% 15.00%",":tongue:":"28.00% 17.50%",":ear:":"26.00% 87.50%",":nose:":"28.00% 00.00%",":eye:":"26.00% 85.00%",":eyes:":"26.00% 82.50%",":bust_in_silhouette:":"32.00% 27.50%",":busts_in_silhouette:":"32.00% 30.00%",":speaking_head_in_silhouette:":"52.00% 25.00%",":baby:":"36.00% 05.00%",":boy:":"32.00% 32.50%",":girl:":"32.00% 47.50%",":man:":"32.00% 62.50%",":woman:":"32.00% 77.50%",":person_with_blond_hair:":"34.00% 32.50%",":older_man:":"34.00% 77.50%",":older_woman:":"34.00% 92.50%",":man_with_gua_pi_mao:":"34.00% 47.50%",":man_with_turban:":"34.00% 62.50%",":cop:":"34.00% 00.00%",":construction_worker:":"36.00% 20.00%",":guardsman:":"36.00% 97.50%",":sleuth_or_spy:":"50.00% 07.50%",":santa:":"16.00% 72.50%",":angel:":"36.00% 57.50%",":princess:":"36.00% 35.00%",":bride_with_veil:":"34.00% 17.50%",":walking:":"62.00% 10.00%",":runner:":"20.00% 22.50%",":dancer:":"38.00% 10.00%",":dancers:":"34.00% 15.00%",":couple:":"32.00% 95.00%",":two_men_holding_hands:":"32.00% 97.50%",":two_women_holding_hands:":"32.00% 100.00%",":bow:":"56.00% 47.50%",":information_desk_person:":"36.00% 82.50%",":no_good:":"56.00% 17.50%",":ok_woman:":"56.00% 32.50%",":raising_hand:":"56.00% 70.00%",":person_with_pouting_face:":"58.00% 12.50%",":person_frowning:":"56.00% 100.00%",":haircut:":"38.00% 57.50%",":massage:":"38.00% 42.50%",":couple_with_heart:":"38.00% 95.00%",":woman-heart-woman:":"78.00% 60.00%",":man-heart-man:":"78.00% 42.50%",":couplekiss:":"38.00% 90.00%",":woman-kiss-woman:":"78.00% 62.50%",":man-kiss-man:":"78.00% 45.00%",":family:":"32.00% 92.50%",":man-woman-girl:":"78.00% 35.00%",":man-woman-girl-boy:":"78.00% 37.50%",":man-woman-boy-boy:":"78.00% 32.50%",":man-woman-girl-girl:":"78.00% 40.00%",":woman-woman-boy:":"78.00% 47.50%",":woman-woman-girl:":"78.00% 52.50%",":woman-woman-girl-boy:":"78.00% 55.00%",":woman-woman-boy-boy:":"78.00% 50.00%",":woman-woman-girl-girl:":"78.00% 57.50%",":man-man-boy:":"78.00% 20.00%",":man-man-girl:":"78.00% 25.00%",":man-man-girl-boy:":"78.00% 27.50%",":man-man-boy-boy:":"78.00% 22.50%",":man-man-girl-girl:":"78.00% 30.00%",":womans_clothes:":"32.00% 02.50%",":shirt:":"30.00% 92.50%",":jeans:":"30.00% 95.00%",":necktie:":"30.00% 90.00%",":dress:":"30.00% 97.50%",":bikini:":"32.00% 00.00%",":kimono:":"30.00% 100.00%",":lipstick:":"38.00% 25.00%",":kiss:":"38.00% 80.00%",":footprints:":"32.00% 25.00%",":high_heel:":"32.00% 17.50%",":sandal:":"32.00% 20.00%",":boot:":"32.00% 22.50%",":mans_shoe:":"32.00% 12.50%",":athletic_shoe:":"32.00% 15.00%",":womans_hat:":"30.00% 85.00%",":tophat:":"18.00% 60.00%",":helmet_with_white_cross:":"04.00% 62.50%",":mortar_board:":"18.00% 17.50%",":crown:":"30.00% 82.50%",":school_satchel:":"18.00% 15.00%",":pouch:":"32.00% 10.00%",":purse:":"32.00% 05.00%",":handbag:":"32.00% 07.50%",":briefcase:":"42.00% 10.00%",":eyeglasses:":"30.00% 87.50%",":dark_sunglasses:":"50.00% 22.50%",":ring:":"38.00% 85.00%",":closed_umbrella:":"10.00% 57.50%",":dog:":"26.00% 57.50%",":cat:":"26.00% 45.00%",":mouse:":"26.00% 35.00%",":hamster:":"26.00% 65.00%",":rabbit:":"26.00% 42.50%",":bear:":"26.00% 70.00%",":panda_face:":"26.00% 72.50%",":koala:":"26.00% 22.50%",":tiger:":"26.00% 40.00%",":lion_face:":"64.00% 52.50%",":cow:":"26.00% 37.50%",":pig:":"26.00% 60.00%",":pig_nose:":"26.00% 75.00%",":frog:":"26.00% 62.50%",":octopus:":"24.00% 87.50%",":monkey_face:":"26.00% 55.00%",":see_no_evil:":"56.00% 62.50%",":hear_no_evil:":"56.00% 65.00%",":speak_no_evil:":"56.00% 67.50%",":monkey:":"24.00% 70.00%",":chicken:":"24.00% 75.00%",":penguin:":"26.00% 20.00%",":bird:":"26.00% 17.50%",":baby_chick:":"26.00% 12.50%",":hatching_chick:":"26.00% 10.00%",":hatched_chick:":"26.00% 15.00%",":wolf:":"26.00% 67.50%",":boar:":"24.00% 82.50%",":horse:":"26.00% 52.50%",":unicorn_face:":"64.00% 60.00%",":bee:":"24.00% 97.50%",":bug:":"24.00% 92.50%",":snail:":"24.00% 55.00%",":beetle:":"24.00% 100.00%",":ant:":"24.00% 95.00%",":spider:":"50.00% 25.00%",":scorpion:":"64.00% 55.00%",":crab:":"64.00% 50.00%",":snake:":"24.00% 57.50%",":turtle:":"26.00% 07.50%",":tropical_fish:":"26.00% 02.50%",":fish:":"26.00% 00.00%",":blowfish:":"26.00% 05.00%",":dolphin:":"26.00% 32.50%",":whale:":"26.00% 50.00%",":whale2:":"24.00% 52.50%",":crocodile:":"24.00% 50.00%",":leopard:":"24.00% 40.00%",":tiger2:":"24.00% 37.50%",":water_buffalo:":"24.00% 32.50%",":ox:":"24.00% 30.00%",":cow2:":"24.00% 35.00%",":dromedary_camel:":"26.00% 27.50%",":camel:":"26.00% 30.00%",":elephant:":"24.00% 85.00%",":goat:":"24.00% 65.00%",":ram:":"24.00% 62.50%",":sheep:":"24.00% 67.50%",":racehorse:":"24.00% 60.00%",":pig2:":"24.00% 80.00%",":rat:":"24.00% 25.00%",":mouse2:":"24.00% 27.50%",":rooster:":"24.00% 72.50%",":turkey:":"64.00% 57.50%",":dove_of_peace:":"48.00% 27.50%",":dog2:":"24.00% 77.50%",":poodle:":"26.00% 25.00%",":cat2:":"24.00% 45.00%",":rabbit2:":"24.00% 42.50%",":chipmunk:":"26.00% 80.00%",":feet:":"26.00% 77.50%",":dragon:":"24.00% 47.50%",":dragon_face:":"26.00% 47.50%",":cactus:":"12.00% 77.50%",":christmas_tree:":"16.00% 70.00%",":evergreen_tree:":"12.00% 70.00%",":deciduous_tree:":"12.00% 72.50%",":palm_tree:":"12.00% 75.00%",":seedling:":"12.00% 67.50%",":herb:":"14.00% 00.00%",":shamrock:":"02.00% 22.50%",":four_leaf_clover:":"14.00% 02.50%",":bamboo:":"18.00% 02.50%",":tanabata_tree:":"16.00% 100.00%",":leaves:":"14.00% 10.00%",":fallen_leaf:":"14.00% 07.50%",":maple_leaf:":"14.00% 05.00%",":ear_of_rice:":"12.00% 100.00%",":hibiscus:":"12.00% 90.00%",":sunflower:":"12.00% 92.50%",":rose:":"12.00% 87.50%",":tulip:":"12.00% 82.50%",":blossom:":"12.00% 95.00%",":cherry_blossom:":"12.00% 85.00%",":bouquet:":"38.00% 92.50%",":mushroom:":"14.00% 12.50%",":chestnut:":"12.00% 65.00%",":jack_o_lantern:":"16.00% 67.50%",":shell:":"24.00% 90.00%",":spider_web:":"50.00% 27.50%",":earth_americas:":"10.00% 87.50%",":earth_africa:":"10.00% 85.00%",":earth_asia:":"10.00% 90.00%",":full_moon:":"12.00% 02.50%",":waning_gibbous_moon:":"12.00% 05.00%",":last_quarter_moon:":"12.00% 07.50%",":waning_crescent_moon:":"12.00% 10.00%",":new_moon:":"10.00% 95.00%",":waxing_crescent_moon:":"10.00% 97.50%",":first_quarter_moon:":"10.00% 100.00%",":moon:":"12.00% 00.00%",":new_moon_with_face:":"12.00% 15.00%",":full_moon_with_face:":"12.00% 22.50%",":first_quarter_moon_with_face:":"12.00% 17.50%",":last_quarter_moon_with_face:":"12.00% 20.00%",":sun_with_face:":"12.00% 25.00%",":crescent_moon:":"12.00% 12.50%",":star:":"08.00% 60.00%",":star2:":"12.00% 27.50%",":dizzy:":"40.00% 70.00%",":sparkles:":"06.00% 97.50%",":comet:":"02.00% 10.00%",":sunny:":"02.00% 00.00%",":mostly_sunny:":"12.00% 35.00%",":partly_sunny:":"04.00% 52.50%",":barely_sunny:":"12.00% 37.50%",":partly_sunny_rain:":"12.00% 40.00%",":cloud:":"02.00% 02.50%",":rain_cloud:":"12.00% 42.50%",":thunder_cloud_and_rain:":"04.00% 55.00%",":lightning:":"12.00% 47.50%",":zap:":"04.00% 32.50%",":fire:":"46.00% 65.00%",":boom:":"40.00% 42.50%",":snowflake:":"08.00% 02.50%",":snow_cloud:":"12.00% 45.00%",":snowman_without_snow:":"04.00% 50.00%",":snowman:":"02.00% 07.50%",":wind_blowing_face:":"12.00% 55.00%",":dash:":"40.00% 50.00%",":tornado:":"12.00% 50.00%",":fog:":"12.00% 52.50%",":umbrella:":"02.00% 05.00%",":umbrella_with_rain_drops:":"02.00% 17.50%",":droplet:":"40.00% 47.50%",":sweat_drops:":"40.00% 45.00%",":ocean:":"10.00% 77.50%",":green_apple:":"14.00% 40.00%",":apple:":"14.00% 37.50%",":pear:":"14.00% 42.50%",":tangerine:":"14.00% 27.50%",":lemon:":"14.00% 30.00%",":banana:":"14.00% 32.50%",":watermelon:":"14.00% 25.00%",":grapes:":"14.00% 20.00%",":strawberry:":"14.00% 50.00%",":melon:":"14.00% 22.50%",":cherries:":"14.00% 47.50%",":peach:":"14.00% 45.00%",":pineapple:":"14.00% 35.00%",":tomato:":"14.00% 15.00%",":eggplant:":"14.00% 17.50%",":hot_pepper:":"12.00% 80.00%",":corn:":"12.00% 97.50%",":sweet_potato:":"14.00% 82.50%",":honey_pot:":"16.00% 17.50%",":bread:":"14.00% 77.50%",":cheese_wedge:":"64.00% 62.50%",":poultry_leg:":"14.00% 60.00%",":meat_on_bone:":"14.00% 57.50%",":fried_shrimp:":"14.00% 92.50%",":egg:":"16.00% 27.50%",":hamburger:":"14.00% 52.50%",":fries:":"14.00% 80.00%",":hotdog:":"12.00% 57.50%",":pizza:":"14.00% 55.00%",":spaghetti:":"14.00% 75.00%",":taco:":"12.00% 60.00%",":burrito:":"12.00% 62.50%",":ramen:":"14.00% 72.50%",":stew:":"16.00% 25.00%",":fish_cake:":"14.00% 95.00%",":sushi:":"14.00% 90.00%",":bento:":"16.00% 22.50%",":curry:":"14.00% 70.00%",":rice_ball:":"14.00% 65.00%",":rice:":"14.00% 67.50%",":rice_cracker:":"14.00% 62.50%",":oden:":"14.00% 87.50%",":dango:":"14.00% 85.00%",":shaved_ice:":"14.00% 100.00%",":ice_cream:":"16.00% 00.00%",":icecream:":"14.00% 97.50%",":cake:":"16.00% 20.00%",":birthday:":"16.00% 65.00%",":custard:":"16.00% 15.00%",":candy:":"16.00% 10.00%",":lollipop:":"16.00% 12.50%",":chocolate_bar:":"16.00% 07.50%",":popcorn:":"16.00% 57.50%",":doughnut:":"16.00% 02.50%",":cookie:":"16.00% 05.00%",":beer:":"16.00% 45.00%",":beers:":"16.00% 47.50%",":wine_glass:":"16.00% 37.50%",":cocktail:":"16.00% 40.00%",":tropical_drink:":"16.00% 42.50%",":champagne:":"16.00% 55.00%",":sake:":"16.00% 35.00%",":tea:":"16.00% 32.50%",":coffee:":"02.00% 20.00%",":baby_bottle:":"16.00% 50.00%",":fork_and_knife:":"16.00% 30.00%",":knife_fork_plate:":"16.00% 52.50%",":soccer:":"04.00% 45.00%",":basketball:":"20.00% 15.00%",":football:":"20.00% 72.50%",":baseball:":"04.00% 47.50%",":tennis:":"20.00% 10.00%",":volleyball:":"22.00% 15.00%",":rugby_football:":"20.00% 75.00%",":8ball:":"18.00% 80.00%",":golf:":"04.00% 82.50%",":golfer:":"22.00% 05.00%",":table_tennis_paddle_and_ball:":"22.00% 22.50%",":badminton_racquet_and_shuttlecock:":"24.00% 05.00%",":ice_hockey_stick_and_puck:":"22.00% 20.00%",":field_hockey_stick_and_ball:":"22.00% 17.50%",":cricket_bat_and_ball:":"22.00% 12.50%",":ski:":"20.00% 12.50%",":skier:":"04.00% 90.00%",":snowboarder:":"20.00% 20.00%",":ice_skate:":"04.00% 92.50%",":bow_and_arrow:":"24.00% 07.50%",":fishing_pole_and_fish:":"18.00% 45.00%",":rowboat:":"60.00% 27.50%",":swimmer:":"20.00% 77.50%",":surfer:":"20.00% 37.50%",":bath:":"62.00% 47.50%",":person_with_ball:":"04.00% 95.00%",":weight_lifter:":"20.00% 92.50%",":bicyclist:":"60.00% 82.50%",":mountain_bicyclist:":"60.00% 97.50%",":horse_racing:":"20.00% 57.50%",":man_in_business_suit_levitating:":"50.00% 05.00%",":trophy:":"20.00% 55.00%",":running_shirt_with_sash:":"20.00% 07.50%",":sports_medal:":"20.00% 52.50%",":medal:":"18.00% 20.00%",":reminder_ribbon:":"18.00% 22.50%",":rosette:":"24.00% 00.00%",":ticket:":"18.00% 65.00%",":admission_tickets:":"18.00% 35.00%",":performing_arts:":"18.00% 70.00%",":art:":"18.00% 57.50%",":circus_tent:":"18.00% 62.50%",":microphone:":"18.00% 47.50%",":headphones:":"18.00% 55.00%",":musical_score:":"20.00% 05.00%",":musical_keyboard:":"18.00% 100.00%",":saxophone:":"18.00% 95.00%",":trumpet:":"20.00% 00.00%",":guitar:":"18.00% 97.50%",":violin:":"20.00% 02.50%",":clapper:":"18.00% 67.50%",":video_game:":"18.00% 72.50%",":space_invader:":"36.00% 75.00%",":dart:":"18.00% 75.00%",":game_die:":"18.00% 82.50%",":slot_machine:":"18.00% 77.50%",":bowling:":"18.00% 85.00%",":car:":"58.00% 100.00%",":taxi:":"58.00% 95.00%",":blue_car:":"60.00% 02.50%",":bus:":"58.00% 72.50%",":trolleybus:":"58.00% 77.50%",":racing_car:":"22.00% 10.00%",":police_car:":"58.00% 90.00%",":ambulance:":"58.00% 85.00%",":fire_engine:":"58.00% 87.50%",":minibus:":"58.00% 82.50%",":truck:":"60.00% 05.00%",":articulated_lorry:":"60.00% 07.50%",":tractor:":"60.00% 10.00%",":racing_motorcycle:":"22.00% 07.50%",":bike:":"60.00% 77.50%",":rotating_light:":"60.00% 52.50%",":oncoming_police_car:":"58.00% 92.50%",":oncoming_bus:":"58.00% 75.00%",":oncoming_automobile:":"60.00% 00.00%",":oncoming_taxi:":"58.00% 97.50%",":aerial_tramway:":"60.00% 22.50%",":mountain_cableway:":"60.00% 20.00%",":suspension_railway:":"60.00% 17.50%",":railway_car:":"58.00% 50.00%",":train:":"58.00% 70.00%",":monorail:":"60.00% 12.50%",":bullettrain_side:":"58.00% 52.50%",":bullettrain_front:":"58.00% 55.00%",":light_rail:":"58.00% 62.50%",":mountain_railway:":"60.00% 15.00%",":steam_locomotive:":"58.00% 47.50%",":train2:":"58.00% 57.50%",":metro:":"58.00% 60.00%",":tram:":"58.00% 67.50%",":station:":"58.00% 65.00%",":helicopter:":"58.00% 45.00%",":small_airplane:":"64.00% 02.50%",":airplane:":"06.00% 17.50%",":airplane_departure:":"64.00% 05.00%",":airplane_arriving:":"64.00% 07.50%",":boat:":"04.00% 87.50%",":motor_boat:":"64.00% 00.00%",":speedboat:":"60.00% 42.50%",":ferry:":"04.00% 85.00%",":passenger_ship:":"64.00% 12.50%",":rocket:":"58.00% 42.50%",":satellite:":"64.00% 10.00%",":seat:":"42.00% 05.00%",":anchor:":"04.00% 12.50%",":construction:":"60.00% 50.00%",":fuelpump:":"06.00% 10.00%",":busstop:":"58.00% 80.00%",":vertical_traffic_light:":"60.00% 47.50%",":traffic_light:":"60.00% 45.00%",":checkered_flag:":"20.00% 17.50%",":ship:":"60.00% 25.00%",":ferris_wheel:":"18.00% 40.00%",":roller_coaster:":"18.00% 42.50%",":carousel_horse:":"18.00% 37.50%",":building_construction:":"22.00% 32.50%",":foggy:":"10.00% 55.00%",":tokyo_tower:":"52.00% 40.00%",":factory:":"22.00% 87.50%",":fountain:":"04.00% 80.00%",":rice_scene:":"18.00% 12.50%",":mountain:":"04.00% 75.00%",":snow_capped_mountain:":"22.00% 25.00%",":mount_fuji:":"52.00% 37.50%",":volcano:":"10.00% 80.00%",":japan:":"52.00% 45.00%",":camping:":"22.00% 27.50%",":tent:":"06.00% 07.50%",":national_park:":"22.00% 50.00%",":motorway:":"62.00% 97.50%",":railway_track:":"62.00% 100.00%",":sunrise:":"10.00% 65.00%",":sunrise_over_mountains:":"10.00% 62.50%",":desert:":"22.00% 45.00%",":beach_with_umbrella:":"22.00% 30.00%",":desert_island:":"22.00% 47.50%",":city_sunrise:":"10.00% 70.00%",":city_sunset:":"10.00% 67.50%",":cityscape:":"22.00% 37.50%",":night_with_stars:":"10.00% 60.00%",":bridge_at_night:":"10.00% 75.00%",":milky_way:":"10.00% 82.50%",":stars:":"12.00% 30.00%",":sparkler:":"16.00% 90.00%",":fireworks:":"16.00% 87.50%",":rainbow:":"10.00% 72.50%",":house_buildings:":"22.00% 35.00%",":european_castle:":"22.00% 95.00%",":japanese_castle:":"22.00% 92.50%",":stadium:":"22.00% 52.50%",":statue_of_liberty:":"52.00% 42.50%",":house:":"22.00% 55.00%",":house_with_garden:":"22.00% 57.50%",":derelict_house_building:":"22.00% 40.00%",":office:":"22.00% 60.00%",":department_store:":"22.00% 85.00%",":post_office:":"22.00% 62.50%",":european_post_office:":"22.00% 65.00%",":hospital:":"22.00% 67.50%",":bank:":"22.00% 70.00%",":hotel:":"22.00% 75.00%",":convenience_store:":"22.00% 80.00%",":school:":"22.00% 82.50%",":love_hotel:":"22.00% 77.50%",":wedding:":"38.00% 97.50%",":classical_building:":"22.00% 42.50%",":church:":"04.00% 72.50%",":mosque:":"48.00% 32.50%",":synagogue:":"48.00% 35.00%",":kaaba:":"48.00% 30.00%",":shinto_shrine:":"04.00% 70.00%",":watch:":"00.00% 35.00%",":iphone:":"44.00% 40.00%",":calling:":"44.00% 42.50%",":computer:":"42.00% 07.50%",":keyboard:":"00.00% 40.00%",":desktop_computer:":"50.00% 90.00%",":printer:":"50.00% 92.50%",":three_button_mouse:":"50.00% 95.00%",":trackball:":"50.00% 97.50%",":joystick:":"50.00% 30.00%",":compression:":"52.00% 15.00%",":minidisc:":"42.00% 12.50%",":floppy_disk:":"42.00% 15.00%",":cd:":"42.00% 17.50%",":dvd:":"42.00% 20.00%",":vhs:":"44.00% 67.50%",":camera:":"44.00% 55.00%",":camera_with_flash:":"44.00% 57.50%",":video_camera:":"44.00% 60.00%",":movie_camera:":"18.00% 50.00%",":film_projector:":"44.00% 70.00%",":film_frames:":"18.00% 32.50%",":telephone_receiver:":"42.00% 95.00%",":phone:":"02.00% 12.50%",":pager:":"42.00% 97.50%",":fax:":"42.00% 100.00%",":tv:":"44.00% 62.50%",":radio:":"44.00% 65.00%",":studio_microphone:":"18.00% 25.00%",":level_slider:":"18.00% 27.50%",":control_knobs:":"18.00% 30.00%",":stopwatch:":"00.00% 65.00%",":timer_clock:":"00.00% 67.50%",":alarm_clock:":"00.00% 62.50%",":mantelpiece_clock:":"50.00% 00.00%",":hourglass_flowing_sand:":"00.00% 70.00%",":hourglass:":"00.00% 37.50%",":satellite_antenna:":"44.00% 00.00%",":battery:":"46.00% 00.00%",":electric_plug:":"46.00% 02.50%",":bulb:":"40.00% 32.50%",":flashlight:":"46.00% 67.50%",":candle:":"48.00% 100.00%",":wastebasket:":"52.00% 07.50%",":oil_drum:":"62.00% 95.00%",":money_with_wings:":"42.00% 00.00%",":dollar:":"40.00% 95.00%",":yen:":"40.00% 92.50%",":euro:":"40.00% 97.50%",":pound:":"40.00% 100.00%",":moneybag:":"40.00% 82.50%",":credit_card:":"40.00% 90.00%",":gem:":"38.00% 87.50%",":scales:":"04.00% 17.50%",":wrench:":"46.00% 70.00%",":hammer:":"46.00% 72.50%",":hammer_and_pick:":"04.00% 10.00%",":hammer_and_wrench:":"62.00% 90.00%",":pick:":"04.00% 60.00%",":nut_and_bolt:":"46.00% 75.00%",":gear:":"04.00% 22.50%",":chains:":"04.00% 65.00%",":gun:":"46.00% 80.00%",":bomb:":"40.00% 37.50%",":hocho:":"46.00% 77.50%",":dagger_knife:":"52.00% 22.50%",":crossed_swords:":"04.00% 15.00%",":shield:":"62.00% 92.50%",":smoking:":"60.00% 62.50%",":skull_and_crossbones:":"02.00% 40.00%",":coffin:":"04.00% 40.00%",":funeral_urn:":"04.00% 42.50%",":amphora:":"24.00% 10.00%",":crystal_ball:":"46.00% 87.50%",":prayer_beads:":"44.00% 72.50%",":barber:":"38.00% 72.50%",":alembic:":"04.00% 20.00%",":telescope:":"46.00% 85.00%",":microscope:":"46.00% 82.50%",":hole:":"50.00% 02.50%",":pill:":"38.00% 77.50%",":syringe:":"38.00% 75.00%",":thermometer:":"12.00% 32.50%",":label:":"24.00% 02.50%",":bookmark:":"46.00% 27.50%",":toilet:":"62.00% 40.00%",":shower:":"62.00% 45.00%",":bathtub:":"62.00% 62.50%",":key:":"46.00% 15.00%",":old_key:":"52.00% 17.50%",":couch_and_lamp:":"62.00% 75.00%",":sleeping_accommodation:":"62.00% 77.50%",":bed:":"62.00% 85.00%",":door:":"60.00% 57.50%",":bellhop_bell:":"62.00% 82.50%",":frame_with_picture:":"50.00% 100.00%",":world_map:":"52.00% 35.00%",":umbrella_on_ground:":"04.00% 77.50%",":moyai:":"52.00% 47.50%",":shopping_bags:":"62.00% 80.00%",":balloon:":"16.00% 92.50%",":flags:":"18.00% 07.50%",":ribbon:":"16.00% 60.00%",":gift:":"16.00% 62.50%",":confetti_ball:":"16.00% 97.50%",":tada:":"16.00% 95.00%",":dolls:":"18.00% 05.00%",":wind_chime:":"18.00% 10.00%",":crossed_flags:":"18.00% 00.00%",":izakaya_lantern:":"22.00% 90.00%",":email:":"06.00% 20.00%",":envelope_with_arrow:":"44.00% 20.00%",":incoming_envelope:":"44.00% 17.50%",":e-mail:":"44.00% 15.00%",":love_letter:":"38.00% 82.50%",":postbox:":"44.00% 32.50%",":mailbox_closed:":"44.00% 22.50%",":mailbox:":"44.00% 25.00%",":mailbox_with_mail:":"44.00% 27.50%",":mailbox_with_no_mail:":"44.00% 30.00%",":package:":"44.00% 12.50%",":postal_horn:":"44.00% 35.00%",":inbox_tray:":"44.00% 10.00%",":outbox_tray:":"44.00% 07.50%",":scroll:":"42.00% 90.00%",":page_with_curl:":"42.00% 27.50%",":bookmark_tabs:":"42.00% 62.50%",":bar_chart:":"42.00% 45.00%",":chart_with_upwards_trend:":"42.00% 40.00%",":chart_with_downwards_trend:":"42.00% 42.50%",":page_facing_up:":"42.00% 30.00%",":date:":"42.00% 32.50%",":calendar:":"42.00% 35.00%",":spiral_calendar_pad:":"52.00% 12.50%",":card_index:":"42.00% 37.50%",":card_file_box:":"52.00% 02.50%",":ballot_box_with_ballot:":"52.00% 32.50%",":file_cabinet:":"52.00% 05.00%",":clipboard:":"42.00% 47.50%",":spiral_note_pad:":"52.00% 10.00%",":file_folder:":"42.00% 22.50%",":open_file_folder:":"42.00% 25.00%",":card_index_dividers:":"52.00% 00.00%",":rolled_up_newspaper:":"52.00% 20.00%",":newspaper:":"44.00% 37.50%",":notebook:":"42.00% 67.50%",":closed_book:":"42.00% 72.50%",":green_book:":"42.00% 77.50%",":blue_book:":"42.00% 80.00%",":orange_book:":"42.00% 82.50%",":notebook_with_decorative_cover:":"42.00% 70.00%",":ledger:":"42.00% 65.00%",":books:":"42.00% 85.00%",":book:":"42.00% 75.00%",":link:":"46.00% 30.00%",":paperclip:":"42.00% 55.00%",":linked_paperclips:":"50.00% 32.50%",":scissors:":"06.00% 12.50%",":triangular_ruler:":"42.00% 60.00%",":straight_ruler:":"42.00% 57.50%",":pushpin:":"42.00% 50.00%",":round_pushpin:":"42.00% 52.50%",":triangular_flag_on_post:":"60.00% 55.00%",":waving_white_flag:":"22.00% 97.50%",":waving_black_flag:":"22.00% 100.00%",":closed_lock_with_key:":"46.00% 12.50%",":lock:":"46.00% 17.50%",":unlock:":"46.00% 20.00%",":lock_with_ink_pen:":"46.00% 10.00%",":lower_left_ballpoint_pen:":"50.00% 35.00%",":lower_left_fountain_pen:":"50.00% 37.50%",":black_nib:":"06.00% 85.00%",":memo:":"42.00% 92.50%",":pencil2:":"06.00% 82.50%",":lower_left_crayon:":"50.00% 42.50%",":lower_left_paintbrush:":"50.00% 40.00%",":mag:":"46.00% 05.00%",":mag_right:":"46.00% 07.50%",":heart:":"08.00% 25.00%",":yellow_heart:":"40.00% 17.50%",":green_heart:":"40.00% 15.00%",":blue_heart:":"40.00% 12.50%",":purple_heart:":"40.00% 20.00%",":broken_heart:":"40.00% 00.00%",":heavy_heart_exclamation_mark_ornament:":"08.00% 22.50%",":two_hearts:":"40.00% 02.50%",":revolving_hearts:":"40.00% 25.00%",":heartbeat:":"38.00% 100.00%",":heartpulse:":"40.00% 07.50%",":sparkling_heart:":"40.00% 05.00%",":cupid:":"40.00% 10.00%",":gift_heart:":"40.00% 22.50%",":heart_decoration:":"40.00% 27.50%",":peace_symbol:":"02.00% 52.50%",":latin_cross:":"06.00% 92.50%",":star_and_crescent:":"02.00% 50.00%",":om_symbol:":"48.00% 25.00%",":wheel_of_dharma:":"02.00% 57.50%",":star_of_david:":"06.00% 95.00%",":six_pointed_star:":"46.00% 90.00%",":menorah_with_nine_branches:":"48.00% 37.50%",":yin_yang:":"02.00% 55.00%",":orthodox_cross:":"02.00% 47.50%",":place_of_worship:":"62.00% 87.50%",":ophiuchus:":"04.00% 57.50%",":aries:":"02.00% 65.00%",":taurus:":"02.00% 67.50%",":gemini:":"02.00% 70.00%",":cancer:":"02.00% 72.50%",":leo:":"02.00% 75.00%",":virgo:":"02.00% 77.50%",":libra:":"02.00% 80.00%",":scorpius:":"02.00% 82.50%",":sagittarius:":"02.00% 85.00%",":capricorn:":"02.00% 87.50%",":aquarius:":"02.00% 90.00%",":pisces:":"02.00% 92.50%",":id:":"08.00% 100.00%",":atom_symbol:":"04.00% 25.00%",":u7a7a:":"10.00% 27.50%",":u5272:":"10.00% 42.50%",":radioactive_sign:":"02.00% 42.50%",":biohazard_sign:":"02.00% 45.00%",":mobile_phone_off:":"44.00% 47.50%",":vibration_mode:":"44.00% 45.00%",":u6709:":"10.00% 35.00%",":u7121:":"10.00% 20.00%",":u7533:":"10.00% 40.00%",":u55b6:":"10.00% 45.00%",":u6708:":"10.00% 37.50%",":eight_pointed_black_star:":"08.00% 00.00%",":vs:":"10.00% 12.50%",":accept:":"10.00% 50.00%",":white_flower:":"40.00% 77.50%",":ideograph_advantage:":"10.00% 47.50%",":secret:":"08.00% 72.50%",":congratulations:":"08.00% 70.00%",":u5408:":"10.00% 30.00%",":u6e80:":"10.00% 32.50%",":u7981:":"10.00% 25.00%",":a:":"08.00% 80.00%",":b:":"08.00% 82.50%",":ab:":"08.00% 90.00%",":cl:":"08.00% 92.50%",":o2:":"08.00% 85.00%",":sos:":"10.00% 07.50%",":no_entry:":"04.00% 67.50%",":name_badge:":"42.00% 87.50%",":no_entry_sign:":"60.00% 60.00%",":x:":"08.00% 07.50%",":o:":"08.00% 62.50%",":anger:":"40.00% 35.00%",":hotsprings:":"04.00% 02.50%",":no_pedestrians:":"62.00% 25.00%",":do_not_litter:":"60.00% 70.00%",":no_bicycles:":"60.00% 80.00%",":non-potable_water:":"60.00% 75.00%",":underage:":"46.00% 47.50%",":no_mobile_phones:":"44.00% 50.00%",":exclamation:":"08.00% 20.00%",":grey_exclamation:":"08.00% 17.50%",":question:":"08.00% 12.50%",":grey_question:":"08.00% 15.00%",":bangbang:":"00.00% 05.00%",":interrobang:":"00.00% 07.50%",":100:":"40.00% 80.00%",":low_brightness:":"44.00% 87.50%",":high_brightness:":"44.00% 90.00%",":trident:":"46.00% 95.00%",":fleur_de_lis:":"04.00% 27.50%",":part_alternation_mark:":"08.00% 67.50%",":warning:":"04.00% 30.00%",":children_crossing:":"62.00% 27.50%",":beginner:":"46.00% 92.50%",":recycle:":"04.00% 05.00%",":u6307:":"10.00% 22.50%",":chart:":"42.00% 02.50%",":sparkle:":"08.00% 05.00%",":eight_spoked_asterisk:":"06.00% 100.00%",":eject:":"00.00% 42.50%",":negative_squared_cross_mark:":"08.00% 10.00%",":white_check_mark:":"06.00% 15.00%",":diamond_shape_with_a_dot_inside:":"40.00% 30.00%",":cyclone:":"10.00% 52.50%",":loop:":"08.00% 40.00%",":globe_with_meridians:":"10.00% 92.50%",":m:":"00.00% 80.00%",":atm:":"22.00% 72.50%",":sa:":"10.00% 17.50%",":passport_control:":"62.00% 65.00%",":customs:":"62.00% 67.50%",":baggage_claim:":"62.00% 70.00%",":left_luggage:":"62.00% 72.50%",":wheelchair:":"04.00% 07.50%",":no_smoking:":"60.00% 65.00%",":wc:":"62.00% 42.50%",":parking:":"08.00% 87.50%",":potable_water:":"60.00% 72.50%",":mens:":"62.00% 30.00%",":womens:":"62.00% 32.50%",":baby_symbol:":"62.00% 37.50%",":restroom:":"62.00% 35.00%",":put_litter_in_its_place:":"60.00% 67.50%",":cinema:":"18.00% 52.50%",":signal_strength:":"44.00% 52.50%",":koko:":"10.00% 15.00%",":ng:":"10.00% 02.50%",":ok:":"10.00% 05.00%",":up:":"10.00% 10.00%",":cool:":"08.00% 95.00%",":new:":"10.00% 00.00%",":free:":"08.00% 97.50%",":zero:":"64.00% 70.00%",":one:":"64.00% 72.50%",":two:":"64.00% 75.00%",":three:":"64.00% 77.50%",":four:":"64.00% 80.00%",":five:":"64.00% 82.50%",":six:":"64.00% 85.00%",":seven:":"64.00% 87.50%",":eight:":"64.00% 90.00%",":nine:":"64.00% 92.50%",":keycap_ten:":"46.00% 50.00%",":keycap_star:":"64.00% 67.50%",":1234:":"46.00% 57.50%",":arrow_forward:":"00.00% 87.50%",":double_vertical_bar:":"00.00% 72.50%",":black_right_pointing_triangle_with_double_vertical_bar:":"00.00% 60.00%",":black_square_for_stop:":"00.00% 75.00%",":black_circle_for_record:":"00.00% 77.50%",":black_right_pointing_double_triangle_with_vertical_bar:":"00.00% 55.00%",":black_left_pointing_double_triangle_with_vertical_bar:":"00.00% 57.50%",":fast_forward:":"00.00% 45.00%",":rewind:":"00.00% 47.50%",":twisted_rightwards_arrows:":"44.00% 75.00%",":repeat:":"44.00% 77.50%",":repeat_one:":"44.00% 80.00%",":arrow_backward:":"00.00% 90.00%",":arrow_up_small:":"48.00% 20.00%",":arrow_down_small:":"48.00% 22.50%",":arrow_double_up:":"00.00% 50.00%",":arrow_double_down:":"00.00% 52.50%",":arrow_right:":"08.00% 35.00%",":arrow_left:":"08.00% 47.50%",":arrow_up:":"08.00% 50.00%",":arrow_down:":"08.00% 52.50%",":arrow_upper_right:":"00.00% 22.50%",":arrow_lower_right:":"00.00% 25.00%",":arrow_lower_left:":"00.00% 27.50%",":arrow_upper_left:":"00.00% 20.00%",":arrow_up_down:":"00.00% 17.50%",":left_right_arrow:":"00.00% 15.00%",":arrows_counterclockwise:":"44.00% 85.00%",":arrow_right_hook:":"00.00% 32.50%",":leftwards_arrow_with_hook:":"00.00% 30.00%",":arrow_heading_up:":"08.00% 42.50%",":arrow_heading_down:":"08.00% 45.00%",":hash:":"64.00% 65.00%",":information_source:":"00.00% 12.50%",":abc:":"46.00% 62.50%",":abcd:":"46.00% 55.00%",":capital_abcd:":"46.00% 52.50%",":symbols:":"46.00% 60.00%",":musical_note:":"18.00% 90.00%",":notes:":"18.00% 92.50%",":wavy_dash:":"08.00% 65.00%",":curly_loop:":"08.00% 37.50%",":heavy_check_mark:":"06.00% 87.50%",":arrows_clockwise:":"44.00% 82.50%",":heavy_plus_sign:":"08.00% 27.50%",":heavy_minus_sign:":"08.00% 30.00%",":heavy_division_sign:":"08.00% 32.50%",":heavy_multiplication_x:":"06.00% 90.00%",":heavy_dollar_sign:":"40.00% 87.50%",":currency_exchange:":"40.00% 85.00%",":copyright:":"00.00% 00.00%",":registered:":"00.00% 02.50%",":tm:":"00.00% 10.00%",":end:":"46.00% 37.50%",":back:":"46.00% 35.00%",":on:":"46.00% 40.00%",":top:":"46.00% 45.00%",":soon:":"46.00% 42.50%",":ballot_box_with_check:":"02.00% 15.00%",":radio_button:":"46.00% 32.50%",":white_circle:":"04.00% 35.00%",":black_circle:":"04.00% 37.50%",":red_circle:":"48.00% 00.00%",":large_blue_circle:":"48.00% 02.50%",":small_orange_diamond:":"48.00% 10.00%",":small_blue_diamond:":"48.00% 12.50%",":large_orange_diamond:":"48.00% 05.00%",":large_blue_diamond:":"48.00% 07.50%",":small_red_triangle:":"48.00% 15.00%",":black_small_square:":"00.00% 82.50%",":white_small_square:":"00.00% 85.00%",":black_large_square:":"08.00% 55.00%",":white_large_square:":"08.00% 57.50%",":small_red_triangle_down:":"48.00% 17.50%",":black_medium_square:":"00.00% 95.00%",":white_medium_square:":"00.00% 92.50%",":black_medium_small_square:":"00.00% 100.00%",":white_medium_small_square:":"00.00% 97.50%",":black_square_button:":"46.00% 97.50%",":white_square_button:":"46.00% 100.00%",":speaker:":"44.00% 95.00%",":sound:":"44.00% 97.50%",":loud_sound:":"44.00% 100.00%",":mute:":"44.00% 92.50%",":mega:":"44.00% 05.00%",":loudspeaker:":"44.00% 02.50%",":bell:":"46.00% 22.50%",":no_bell:":"46.00% 25.00%",":black_joker:":"08.00% 77.50%",":mahjong:":"08.00% 75.00%",":spades:":"02.00% 95.00%",":clubs:":"02.00% 97.50%",":hearts:":"02.00% 100.00%",":diamonds:":"04.00% 00.00%",":flower_playing_cards:":"18.00% 87.50%",":thought_balloon:":"40.00% 75.00%",":right_anger_bubble:":"52.00% 30.00%",":speech_balloon:":"40.00% 72.50%",":left_speech_bubble:":"52.00% 27.50%",":clock1:":"48.00% 40.00%",":clock2:":"48.00% 42.50%",":clock3:":"48.00% 45.00%",":clock4:":"48.00% 47.50%",":clock5:":"48.00% 50.00%",":clock6:":"48.00% 52.50%",":clock7:":"48.00% 55.00%",":clock8:":"48.00% 57.50%",":clock9:":"48.00% 60.00%",":clock10:":"48.00% 62.50%",":clock11:":"48.00% 65.00%",":clock12:":"48.00% 67.50%",":clock130:":"48.00% 70.00%",":clock230:":"48.00% 72.50%",":clock330:":"48.00% 75.00%",":clock430:":"48.00% 77.50%",":clock530:":"48.00% 80.00%",":clock630:":"48.00% 82.50%",":clock730:":"48.00% 85.00%",":clock830:":"48.00% 87.50%",":clock930:":"48.00% 90.00%",":clock1030:":"48.00% 92.50%",":clock1130:":"48.00% 95.00%",":clock1230:":"48.00% 97.50%",":flag-ac:":"64.00% 95.00%",":flag-ad:":"64.00% 97.50%",":flag-ae:":"64.00% 100.00%",":flag-af:":"66.00% 00.00%",":flag-ag:":"66.00% 02.50%",":flag-ai:":"66.00% 05.00%",":flag-al:":"66.00% 07.50%",":flag-am:":"66.00% 10.00%",":flag-ao:":"66.00% 12.50%",":flag-aq:":"66.00% 15.00%",":flag-ar:":"66.00% 17.50%",":flag-as:":"66.00% 20.00%",":flag-at:":"66.00% 22.50%",":flag-au:":"66.00% 25.00%",":flag-aw:":"66.00% 27.50%",":flag-ax:":"66.00% 30.00%",":flag-az:":"66.00% 32.50%",":flag-ba:":"66.00% 35.00%",":flag-bb:":"66.00% 37.50%",":flag-bd:":"66.00% 40.00%",":flag-be:":"66.00% 42.50%",":flag-bf:":"66.00% 45.00%",":flag-bg:":"66.00% 47.50%",":flag-bh:":"66.00% 50.00%",":flag-bi:":"66.00% 52.50%",":flag-bj:":"66.00% 55.00%",":flag-bl:":"66.00% 57.50%",":flag-bm:":"66.00% 60.00%",":flag-bn:":"66.00% 62.50%",":flag-bo:":"66.00% 65.00%",":flag-bq:":"66.00% 67.50%",":flag-br:":"66.00% 70.00%",":flag-bs:":"66.00% 72.50%",":flag-bt:":"66.00% 75.00%",":flag-bv:":"66.00% 77.50%",":flag-bw:":"66.00% 80.00%",":flag-by:":"66.00% 82.50%",":flag-bz:":"66.00% 85.00%",":flag-ca:":"66.00% 87.50%",":flag-cc:":"66.00% 90.00%",":flag-cd:":"66.00% 92.50%",":flag-cf:":"66.00% 95.00%",":flag-cg:":"66.00% 97.50%",":flag-ch:":"66.00% 100.00%",":flag-ci:":"68.00% 00.00%",":flag-ck:":"68.00% 02.50%",":flag-cl:":"68.00% 05.00%",":flag-cm:":"68.00% 07.50%",":flag-cn:":"68.00% 10.00%",":flag-co:":"68.00% 12.50%",":flag-cp:":"68.00% 15.00%",":flag-cr:":"68.00% 17.50%",":flag-cu:":"68.00% 20.00%",":flag-cv:":"68.00% 22.50%",":flag-cw:":"68.00% 25.00%",":flag-cx:":"68.00% 27.50%",":flag-cy:":"68.00% 30.00%",":flag-cz:":"68.00% 32.50%",":flag-de:":"68.00% 35.00%",":flag-dg:":"68.00% 37.50%",":flag-dj:":"68.00% 40.00%",":flag-dk:":"68.00% 42.50%",":flag-dm:":"68.00% 45.00%",":flag-do:":"68.00% 47.50%",":flag-dz:":"68.00% 50.00%",":flag-ea:":"68.00% 52.50%",":flag-ec:":"68.00% 55.00%",":flag-ee:":"68.00% 57.50%",":flag-eg:":"68.00% 60.00%",":flag-eh:":"68.00% 62.50%",":flag-er:":"68.00% 65.00%",":flag-es:":"68.00% 67.50%",":flag-et:":"68.00% 70.00%",":flag-eu:":"68.00% 72.50%",":flag-fi:":"68.00% 75.00%",":flag-fj:":"68.00% 77.50%",":flag-fk:":"68.00% 80.00%",":flag-fm:":"68.00% 82.50%",":flag-fo:":"68.00% 85.00%",":flag-fr:":"68.00% 87.50%",":flag-ga:":"68.00% 90.00%",":flag-gb:":"68.00% 92.50%",":flag-gd:":"68.00% 95.00%",":flag-ge:":"68.00% 97.50%",":flag-gf:":"68.00% 100.00%",":flag-gg:":"70.00% 00.00%",":flag-gh:":"70.00% 02.50%",":flag-gi:":"70.00% 05.00%",":flag-gl:":"70.00% 07.50%",":flag-gm:":"70.00% 10.00%",":flag-gn:":"70.00% 12.50%",":flag-gp:":"70.00% 15.00%",":flag-gq:":"70.00% 17.50%",":flag-gr:":"70.00% 20.00%",":flag-gs:":"70.00% 22.50%",":flag-gt:":"70.00% 25.00%",":flag-gu:":"70.00% 27.50%",":flag-gw:":"70.00% 30.00%",":flag-gy:":"70.00% 32.50%",":flag-hk:":"70.00% 35.00%",":flag-hm:":"70.00% 37.50%",":flag-hn:":"70.00% 40.00%",":flag-hr:":"70.00% 42.50%",":flag-ht:":"70.00% 45.00%",":flag-hu:":"70.00% 47.50%",":flag-ic:":"70.00% 50.00%",":flag-id:":"70.00% 52.50%",":flag-ie:":"70.00% 55.00%",":flag-il:":"70.00% 57.50%",":flag-im:":"70.00% 60.00%",":flag-in:":"70.00% 62.50%",":flag-io:":"70.00% 65.00%",":flag-iq:":"70.00% 67.50%",":flag-ir:":"70.00% 70.00%",":flag-is:":"70.00% 72.50%",":flag-it:":"70.00% 75.00%",":flag-je:":"70.00% 77.50%",":flag-jm:":"70.00% 80.00%",":flag-jo:":"70.00% 82.50%",":flag-jp:":"70.00% 85.00%",":flag-ke:":"70.00% 87.50%",":flag-kg:":"70.00% 90.00%",":flag-kh:":"70.00% 92.50%",":flag-ki:":"70.00% 95.00%",":flag-km:":"70.00% 97.50%",":flag-kn:":"70.00% 100.00%",":flag-kp:":"72.00% 00.00%",":flag-kr:":"72.00% 02.50%",":flag-kw:":"72.00% 05.00%",":flag-ky:":"72.00% 07.50%",":flag-kz:":"72.00% 10.00%",":flag-la:":"72.00% 12.50%",":flag-lb:":"72.00% 15.00%",":flag-lc:":"72.00% 17.50%",":flag-li:":"72.00% 20.00%",":flag-lk:":"72.00% 22.50%",":flag-lr:":"72.00% 25.00%",":flag-ls:":"72.00% 27.50%",":flag-lt:":"72.00% 30.00%",":flag-lu:":"72.00% 32.50%",":flag-lv:":"72.00% 35.00%",":flag-ly:":"72.00% 37.50%",":flag-ma:":"72.00% 40.00%",":flag-mc:":"72.00% 42.50%",":flag-md:":"72.00% 45.00%",":flag-me:":"72.00% 47.50%",":flag-mf:":"72.00% 50.00%",":flag-mg:":"72.00% 52.50%",":flag-mh:":"72.00% 55.00%",":flag-mk:":"72.00% 57.50%",":flag-ml:":"72.00% 60.00%",":flag-mm:":"72.00% 62.50%",":flag-mn:":"72.00% 65.00%",":flag-mo:":"72.00% 67.50%",":flag-mp:":"72.00% 70.00%",":flag-mq:":"72.00% 72.50%",":flag-mr:":"72.00% 75.00%",":flag-ms:":"72.00% 77.50%",":flag-mt:":"72.00% 80.00%",":flag-mu:":"72.00% 82.50%",":flag-mv:":"72.00% 85.00%",":flag-mw:":"72.00% 87.50%",":flag-mx:":"72.00% 90.00%",":flag-my:":"72.00% 92.50%",":flag-mz:":"72.00% 95.00%",":flag-na:":"72.00% 97.50%",":flag-nc:":"72.00% 100.00%",":flag-ne:":"74.00% 00.00%",":flag-nf:":"74.00% 02.50%",":flag-ng:":"74.00% 05.00%",":flag-ni:":"74.00% 07.50%",":flag-nl:":"74.00% 10.00%",":flag-no:":"74.00% 12.50%",":flag-np:":"74.00% 15.00%",":flag-nr:":"74.00% 17.50%",":flag-nu:":"74.00% 20.00%",":flag-nz:":"74.00% 22.50%",":flag-om:":"74.00% 25.00%",":flag-pa:":"74.00% 27.50%",":flag-pe:":"74.00% 30.00%",":flag-pf:":"74.00% 32.50%",":flag-pg:":"74.00% 35.00%",":flag-ph:":"74.00% 37.50%",":flag-pk:":"74.00% 40.00%",":flag-pl:":"74.00% 42.50%",":flag-pm:":"74.00% 45.00%",":flag-pn:":"74.00% 47.50%",":flag-pr:":"74.00% 50.00%",":flag-ps:":"74.00% 52.50%",":flag-pt:":"74.00% 55.00%",":flag-pw:":"74.00% 57.50%",":flag-py:":"74.00% 60.00%",":flag-qa:":"74.00% 62.50%",":flag-re:":"74.00% 65.00%",":flag-ro:":"74.00% 67.50%",":flag-rs:":"74.00% 70.00%",":flag-ru:":"74.00% 72.50%",":flag-rw:":"74.00% 75.00%",":flag-sa:":"74.00% 77.50%",":flag-sb:":"74.00% 80.00%",":flag-sc:":"74.00% 82.50%",":flag-sd:":"74.00% 85.00%",":flag-se:":"74.00% 87.50%",":flag-sg:":"74.00% 90.00%",":flag-sh:":"74.00% 92.50%",":flag-si:":"74.00% 95.00%",":flag-sj:":"74.00% 97.50%",":flag-sk:":"74.00% 100.00%",":flag-sl:":"76.00% 00.00%",":flag-sm:":"76.00% 02.50%",":flag-sn:":"76.00% 05.00%",":flag-so:":"76.00% 07.50%",":flag-sr:":"76.00% 10.00%",":flag-ss:":"76.00% 12.50%",":flag-st:":"76.00% 15.00%",":flag-sv:":"76.00% 17.50%",":flag-sx:":"76.00% 20.00%",":flag-sy:":"76.00% 22.50%",":flag-sz:":"76.00% 25.00%",":flag-ta:":"76.00% 27.50%",":flag-tc:":"76.00% 30.00%",":flag-td:":"76.00% 32.50%",":flag-tf:":"76.00% 35.00%",":flag-tg:":"76.00% 37.50%",":flag-th:":"76.00% 40.00%",":flag-tj:":"76.00% 42.50%",":flag-tk:":"76.00% 45.00%",":flag-tl:":"76.00% 47.50%",":flag-tm:":"76.00% 50.00%",":flag-tn:":"76.00% 52.50%",":flag-to:":"76.00% 55.00%",":flag-tr:":"76.00% 57.50%",":flag-tt:":"76.00% 60.00%",":flag-tv:":"76.00% 62.50%",":flag-tw:":"76.00% 65.00%",":flag-tz:":"76.00% 67.50%",":flag-ua:":"76.00% 70.00%",":flag-ug:":"76.00% 72.50%",":flag-um:":"76.00% 75.00%",":flag-us:":"76.00% 77.50%",":flag-uy:":"76.00% 80.00%",":flag-uz:":"76.00% 82.50%",":flag-va:":"76.00% 85.00%",":flag-vc:":"76.00% 87.50%",":flag-ve:":"76.00% 90.00%",":flag-vg:":"76.00% 92.50%",":flag-vi:":"76.00% 95.00%",":flag-vn:":"76.00% 97.50%",":flag-vu:":"76.00% 100.00%",":flag-wf:":"78.00% 00.00%",":flag-ws:":"78.00% 02.50%",":flag-xk:":"78.00% 05.00%",":flag-ye:":"78.00% 07.50%",":flag-yt:":"78.00% 10.00%",":flag-za:":"78.00% 12.50%",":flag-zm:":"78.00% 15.00%",":flag-zw:":"78.00% 17.50%"},ia=[":d",":')",":-*","/-heart","/-strong",":3","--b",":b",";d",":~",":>",";p",":*",";o",":((",":))",":)",":p",":$",":-h",":-((","x-)","8-)",";-d",":q",":(","b-)",";?",":|",";xx",":--|",";g",":o",":z",":l","p-(",":-bye",":x","|-)",":wipe",":!","8*",":-dig",":t","&-(",":-|",":handclap",">-|",":-f",":-l",":-r","/-showlove",";-x",":-o",";-s",";8","8*)",";!",";f",":;",":+",";-a",":-<",";-!","/-beer","/-coffee","/-rose","/-fade","/-bd","/-bome","/-cake","/-break","/-shit","/-li","/-weak","/-ok","/-v","/-thanks","/-punch","/-share","/-jj","/-no","/-bad","/-loveu","/-flag"],ua={},la=function(){return 0===Object.entries(ua).length&&ia.forEach((function(e){var t=Object.entries(sa).find((function(t){return t[0]===e}));if(t){var n=t[0],a=t[1];ua[n]=a}})),ua},da=Object(l.c)((function(e){return{sticker:e.sticker}}),(function(e){return{sendStickerMessage:function(t){return e(Lt(t))},sendEmojiMessage:function(t){return e(Ft(t))}}}))((function(e){var t=e.sticker,n=e.isShow,a=e.sendStickerMessage,r=e.sendEmojiMessage,s=t.categoriesRender,i=t.stickerMap,u=Object(o.useState)("STICKER"),l=Object(d.a)(u,2),f=l[0],p=l[1],g=function(e){e.stopPropagation(),p("STICKER"===f?"EMOJI":"STICKER")},h=n?"":"is-hidden",m="STICKER"===f,b=!m;return Object(c.jsxs)("div",{id:"modal-emoji-id",className:"modal-emoji ".concat(h," "),children:[Object(c.jsxs)("div",{className:"modal-header tab",children:[Object(c.jsx)("button",{className:"tablinks ".concat(m&&"active"),onClick:function(e){return g(e)},children:"STICKER"}),Object(c.jsx)("button",{className:"tablinks ".concat(b&&"active"),onClick:function(e){return g(e)},children:"EMOJI"})]}),Object(c.jsx)("hr",{className:"hr-solid"}),Object(c.jsx)("div",{id:"Sticker",className:"modal-content grid-container tabcontent ".concat(!m&&"is-hidden"," "),children:s.data.map((function(e){var t=i[e.id];return t?Object.keys(t.data).map(Number).map((function(n){var r=t.data[n];return r?Object(c.jsx)("div",{className:"grid-item",onClick:function(){return function(e){a(e)}({id:n,catId:e.id,type:7})},children:Object(c.jsx)("img",{className:"sticker",src:r,alt:""})},n):null})).filter((function(e){return null!=e})):null}))}),Object(c.jsx)("div",{id:"Emoji",className:"modal-content grid-container tabcontent ".concat(!b&&"is-hidden"," "),children:function(){var e=la();return Object.entries(e).map((function(e){var t=e[0],n=e[1];return Object(c.jsx)("div",{className:"grid-item",onClick:function(){return function(e){r(e)}(t)},children:Object(c.jsx)(oa,{keyword:t,position:n})},t)})).filter((function(e){return null!=e}))}()})]})})),fa=Object(l.c)((function(e){return{appState:e.app}}),(function(e){return{sendTextMessage:function(t){return e(Ft(t))},sendPhotoMessage:function(t,n){return e(Rt(t,n))},sendVideoMessage:function(t,n){return e(Ut(t,n))},sendFileMessage:function(t,n){return e(At(t))},sendTypingTextMessage:function(t){return e(function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){var c,o,s,i,u,l;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r.zchatService,o=a().session.conversationId){t.next=5;break}return t.abrupt("return");case 5:s=a().session,i=s.zoaw_enk,u=s.service_map,l=s.encrWzuId;try{c.sendTyping(u.message,{toId:o,type:e,fdata:"",wzuId:l},i)}catch(n){}case 7:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.appState,n=e.sendTextMessage,a=e.sendPhotoMessage,r=e.sendVideoMessage,s=e.sendFileMessage,i=e.sendTypingTextMessage,u=(e.onToggleFooterView,e.parentUrl),l=Object(o.useState)(!1),f=Object(d.a)(l,2),p=f[0],g=f[1],h=Object(o.useState)(!1),m=Object(d.a)(h,2),b=m[0],v=m[1],_=Object(o.useState)(!1),j=Object(d.a)(_,2),w=j[0],O=j[1],y=Object(o.useRef)(null),k=Object(o.useRef)(null),x=Object(o.useState)({text:"",lastTypingTime:0}),I=Object(d.a)(x,2),S=I[0],N=I[1],z=function(){var e=S.text.trim();""!==e&&(n(e),N({text:"",lastTypingTime:0}),Wn.logSendMessage())};Object(o.useEffect)((function(){var e=document.getElementsByClassName("modal-emoji")[0];document.addEventListener("click",(function(t){e.contains(t.target)||t.target===document.getElementsByClassName("ic-sticker")[0]||g(!1)})),window.addEventListener("focus",(function(){O(!1)}))}));Object(o.useEffect)((function(){try{new Promise((function(e,t){var n=function(){return e(!1)};try{localStorage.length||(localStorage.setItem("inPrivate","0"),localStorage.removeItem("inPrivate")),n()}catch(a){e(!0)}return n()})).then((function(e){if(e)v(!0);else{var t=localStorage.getItem("hintChat_0"),n=localStorage.getItem("hintChat_1");switch([t,n,localStorage.getItem("hintChat_2")].indexOf(null)){case 0:localStorage.setItem("hintChat_0",u),v(!0);break;case 1:t!==u&&(localStorage.setItem("hintChat_1",u),v(!0));break;case 2:t!==u&&n!==u&&(localStorage.setItem("hintChat_2",u),v(!0))}}}))}catch(e){v(!0)}}),[]),Object(o.useEffect)((function(){var e;t.shouldShowBox&&(null===y||void 0===y||null===(e=y.current)||void 0===e||e.focus())}),[t.shouldShowBox]);var C=Object(Gn.a)().t;return Object(c.jsxs)("div",{className:"input-wrapper",children:[Object(c.jsx)("div",{className:"hint-input ".concat(b?"hint-input--active":""),children:"Nh\u1eadp c\xe2u h\u1ecfi c\u1ee7a b\u1ea1n t\u1ea1i \u0111\xe2y"}),Object(c.jsx)("div",{className:"icon-wrapper button btn-show"}),Object(c.jsx)("input",{ref:y,onKeyDown:function(e){"Enter"===e.key&&z()},onChange:function(e){var t=Date.now(),n=S.lastTypingTime;t-S.lastTypingTime>=D.showTypingDuration&&(i(he.Text),n=t),N({text:e.target.value,lastTypingTime:n})},value:S.text,type:"text",placeholder:C("chatbox.placeholder")}),Object(c.jsx)("label",{className:"icon-btn ".concat(w&&"active"),htmlFor:"input-file",onClick:function(){O(!w)},children:Object(c.jsx)("i",{className:"fal fa-paperclip button"})}),Object(c.jsx)("div",{className:"attachted-wrapper",children:Object(c.jsx)("input",{ref:k,style:{display:"none"},onChange:function(e){var t=e.target.files;if(t&&0!==t.length){for(var n=0;n<t.length;n++){var c=t[n];Kn(c.type)?a(c,""):Yn(c.type)?r(c,""):s(c,"")}k&&k.current&&(k.current.value="")}},name:"file",id:"input-file",multiple:!0,type:"file"})}),Object(c.jsx)("label",{className:"icon-btn ".concat(p&&"active"),onClick:function(){g(!p)},children:Object(c.jsx)("i",{className:"icon ic-sticker button",children:Object(c.jsx)(da,{isShow:p})})})]})})),pa=Object(l.c)((function(e){return{}}),(function(e){return{onSendHashtagMessage:function(t){return e((n=t,function(){var e=Object(g.a)(p.a.mark((function e(t,a,r){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Date.now(),e.prev=1,e.next=4,Wt(n,c,t,a,r);case 4:ie(e.sent)||Qt(a(),c,t,L.Error),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),Qt(a(),c,t,L.Error);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,a){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t,n,a,r=e.subMenu,s=e.onSendHashtagMessage,i=Object(o.useRef)(null),u=Object(o.useState)(!1),l=Object(d.a)(u,2),f=l[0],p=l[1];Object(o.useEffect)((function(){function e(e){i.current&&!i.current.contains(e.target)&&p(!1)}return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[i]);var g=Object(o.useCallback)((function(e){e&&e.startsWith("#")&&s(e)}),[s]),h=Object(o.useCallback)((function(){var e;We(r.menuData)?window.open(r.menuData,"_blank"):(null===(e=r.listSubMenu)||void 0===e?void 0:e.length)?p(!f):g(r.menuData)}),[f,r,g]),m=Object(o.useCallback)((function(e){We(e)?window.open(e,"_blank"):g(e)}),[g]);return Object(c.jsxs)("div",{className:"menu-item same-width".concat((null===(t=r.listSubMenu)||void 0===t?void 0:t.length)?" drop-up":""),ref:i,onClick:h,children:[Object(c.jsx)("span",{className:"one-line button",children:r.menuName}),!!(null===(n=r.listSubMenu)||void 0===n?void 0:n.length)&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"collapse circle-icon",children:Object(c.jsx)("i",{className:"icon ".concat(f?"ic-arrow-down":"ic-arrow-up")})}),Object(c.jsxs)("div",{className:"drop-up-content",style:{display:f?"block":"none"},children:[null===(a=r.listSubMenu)||void 0===a?void 0:a.map((function(e){return Object(c.jsx)("a",{onClick:function(){return m(e.subMenuData)},children:e.subMenuName},e.subMenuId)})),Object(c.jsx)("div",{className:"arrow-down-triangle"})]})]})]})})),ga=(n(291),function(e){var t=e.oaMenu,n=e.onToggleFooterView;return t&&t.length?Object(c.jsxs)("div",{className:"menu-wrapper footer",children:[Object(c.jsx)("div",{className:"menu-wrapper__left",children:Object(c.jsx)(na,{iconName:"ic-keyboard-line",handleClick:n})}),Object(c.jsx)("div",{className:"menu-wrapper__right",children:Object(c.jsx)("div",{className:"action-container",children:t.map((function(e){return Object(c.jsx)(pa,{subMenu:e},e.menuId)}))})})]}):null}),ha=function(e){var t=e.msg;return Object(c.jsx)(c.Fragment,{children:function(){if(t){if(!function(e){var t=Object.entries(la()).find((function(t){var n=t[0];return e.toLowerCase().includes(n)}));return t?{keyword:t[0],position:t[1]}:null}(t))return t;var e=function(e,t){var n=[e];return t.sort((function(e,t){return t.keyword.length-e.keyword.length})),t.forEach((function(e){return n=function(e,n){return e.flatMap((function(e){if(t.find((function(t){return t.keyword===e})))return[e];for(var a=e.split(n.keyword),r=1;r<a.length;r+=2)a.splice(r,0,n.keyword);return a}))}(n,e)})),n.map((function(e){return function(e){var n=t.find((function(t){return t.keyword===e}));return Object(c.jsxs)(c.Fragment,{children:[n&&Object(c.jsx)(oa,{className:"zemoji",keyword:n.keyword,position:n.position}),!n&&e]})}(e)})).concat()},n=function(t){var n=function(e){var t=[];return Object.entries(la()).forEach((function(n){var a=n[0];e.toLowerCase().includes(a)&&t.push({keyword:n[0],position:n[1]})})),t.length?t:null}(t);return Object(c.jsxs)(c.Fragment,{children:[n&&e(t,n),!n&&t," "]})};return t.split(" ").map((function(e,t){var a=n(e);return Object(c.jsx)(s.a.Fragment,{children:a},t)})).concat()}}()})},ma=Object(l.c)((function(e){var t,n;return{replyingMessage:e.messaging.replyingMsg,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,oaMenu:null===(n=e.app.oaInfo)||void 0===n?void 0:n.oaMenu}}),(function(e){return{removeReplyingMessage:function(){return e(qt())}}}))((function(e){var t=e.replyingMessage,n=(e.oaName,e.oaMenu),a=e.removeReplyingMessage,r=e.showMessageView,s=e.parentUrl,i=Object(o.useState)(!1),u=Object(d.a)(i,2),l=u[0],f=u[1],p=Object(o.useCallback)((function(){(null===n||void 0===n?void 0:n.length)&&f(!l)}),[l,null===n||void 0===n?void 0:n.length]),g=function(e){mt.a.changeLanguage(e)},h=function(){a()},m=Object(Gn.a)().t;return t&&l&&f(!1),Object(c.jsx)("div",{className:"box__footer",children:Object(c.jsxs)("div",{className:"footer-wrapper",children:[r&&t&&function(){if(t){var e=bt(t)||"";switch(t.msgType){case pe.Text:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:["Tr\u1ea3 l\u1eddi ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsx)("div",{className:"reply__content has-one-line",children:Object(c.jsx)(ha,{msg:e})})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e);case pe.Photo:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"reply__image image",children:Object(c.jsx)("img",{src:e.href,alt:""})}),Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:[m("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsxs)("div",{className:"reply__content has-one-line",children:["[",m("reply.image"),"]"]})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e);case pe.Video:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"reply__image image",children:Object(c.jsx)("img",{src:e.thumb,alt:""})}),Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:[m("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsxs)("div",{className:"reply__content has-one-line",children:["[",m("reply.video"),"]"]})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e);case pe.File:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"reply__image image",children:Object(c.jsx)("i",{className:"icon ic-file-grey"})}),Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:[m("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsxs)("div",{className:"reply__content has-one-line",children:["[",m("reply.file"),"] ",e.title]})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e);case pe.Sticker:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"reply__image image",children:Object(c.jsx)("img",{src:xt(e),alt:""})}),Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:[m("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsxs)("div",{className:"reply__content has-one-line",children:["[",m("reply.sticker"),"]"]})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e);case pe.Chat_Recommeneded:return function(e,t){return Object(c.jsx)("div",{className:"reply-wrapper",children:Object(c.jsx)("div",{className:"card__reply",children:Object(c.jsxs)("div",{className:"reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"reply__image image",children:Object(c.jsx)("img",{src:e.thumb,alt:""})}),Object(c.jsxs)("div",{className:"reply__info",children:[Object(c.jsxs)("p",{className:"reply__name",children:[m("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:t})]}),Object(c.jsxs)("div",{className:"reply__content has-one-line wb-break-all",children:["[",m("reply.link"),"] ",e.href]})]}),Object(c.jsx)("i",{className:"icon ic-close",onClick:h})]})})})}(t.content,e)}}}(),r&&!l&&Object(c.jsx)(fa,{onToggleFooterView:p,parentUrl:s}),r&&l&&Object(c.jsx)(ga,{oaMenu:n,onToggleFooterView:p}),!r&&Object(c.jsx)("div",{className:"footer-wrapper",children:Object(c.jsxs)("div",{className:"language-change-wrapper",children:[Object(c.jsx)("div",{className:"vi"===mt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return g("vi")},children:m("lang.vie")}),Object(c.jsx)("div",{className:"en"===mt.a.language?"zbtn zbtn-info":"zbtn zbtn-clear",onClick:function(){return g("en")},children:m("lang.eng")})]})})]})})})),ba=function(){var e=document.getElementsByClassName("card__reaction");Array.from(e).forEach((function(e){return e.classList.add("is-hidden")}))},va=function(e){var t=e.msgData,n=e.msgInfo,a=e.handleReplyMessage;e.hanldeReactMessage,Object(o.useRef)(null);s.a.useEffect((function(){return window.addEventListener("click",ba),function(){window.removeEventListener("click",ba)}}),[]);var r,i=(r=n).state===L.Sent||r.state===L.Delivered||r.state===L.Seen;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"card__actionholder",children:[false,i&&Object(c.jsx)("a",{className:"btn-wrapper",onClick:function(){a(t)},children:Object(c.jsx)("i",{className:"icon ic-reply"})})]}),false]})},_a=function(e){var t,n=e.children,a=e.msgData,r=e.msgInfo,s=e.readonly,i=e.doResend,u=e.doQuote,l=Object(o.useRef)(null),f=Object(o.useState)(!1),p=Object(d.a)(f,2),g=p[0],h=p[1],m=jt(a),b=yt(r),v=(t=a,[pe.Text,pe.Reaction,pe.Sticker,pe.Chat_Recommeneded].find((function(e){return e===t.msgType})));return Object(c.jsxs)("div",{className:"card__wrapper",ref:l,onMouseOver:function(){return h(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;(null===(t=l.current)||void 0===t?void 0:t.contains(n))||h(!1)}(e)},children:[Object(c.jsxs)("div",{className:"message__content",children:[Object(c.jsx)(c.Fragment,{children:n}),m&&b&&v&&Object(c.jsx)("a",{className:"btn-resend",onClick:function(){i(a,r)},children:Object(c.jsx)("i",{className:"fal fa-redo",style:{color:"white"}})})]}),!s&&g&&Object(c.jsx)(va,{msgData:a,msgInfo:r,handleReplyMessage:function(){u(a)},hanldeReactMessage:function(){}})]})},ja=function(e){var t=e.msgData,n=e.msgInfo,a=e.isHidden,r=Object(Gn.a)().t,o=Object(c.jsxs)("div",{className:"status-container",children:[Object(c.jsx)("i",{className:"icon-stt ic-check"})," "," ",r("messagestatus.sent")]}),s=Object(c.jsxs)("div",{className:"status-container",children:[Object(c.jsx)("i",{className:"icon-stt ic-double-check",children:" "})," "," ",r("messagestatus.received")]}),i=Object(c.jsxs)("div",{className:"status-container",children:[Object(c.jsx)("i",{className:"icon-stt ic-seen"})," "," \u0110\xe3 xem"]}),u=Object(c.jsxs)("div",{className:"status-container",children:[Object(c.jsx)("i",{className:"fal fa-clock"})," "," ",r("messagestatus.sending")]}),l=Object(c.jsxs)("div",{className:"status-container text-warning",children:[Object(c.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.error")]}),d=Object(c.jsxs)("div",{className:"status-container text-warning",children:[Object(c.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigFile")]}),f=Object(c.jsxs)("div",{className:"status-container text-warning",children:[Object(c.jsx)("i",{className:"fal fa-exclamation-circle"})," "," ",r("messagestatus.errorTooBigPhoto")]}),p=n.state;if(p===L.Sending)return u;if(p===L.Uploading)return u;if(p===L.Error)return l;if(p===L.ErrorTooBigFile)return d;if(p===L.ErrorTooBigPhoto)return f;if(a||!function(e){var t=ht;return jt(e)&&e.cliMsgId===t.getState().messaging.myLastMsgId}(t)||function(e){var t=ht.getState().messaging,n=t.messagesInfo[e.cliMsgId].index,a=t.messages[n+1];return!!a&&e.srcId!==a.srcId}(t))return Object(c.jsx)(c.Fragment,{});switch(p){case L.Sent:return o;case L.Delivered:return s;case L.Seen:return i;default:return Object(c.jsx)(c.Fragment,{})}},wa=Object(l.c)((function(e){return{}}),(function(e){return{sendTextMessage:function(t,n){return e(Ft(t,n))},sendStickerMessage:function(t){return e(Lt(t))},replyMessage:function(t){return e({type:W,payload:{message:t}})}}}))((function(e){var t=e.children,n=e.msgData,a=e.msgInfo,r=e.readonly,o=e.sendTextMessage,s=e.sendStickerMessage,i=e.replyMessage;return Object(c.jsxs)("div",{className:"card",children:[Object(c.jsx)(_a,{msgData:n,msgInfo:a,doResend:function(e,t){if(yt(t))switch(e.msgType){case pe.Text:case pe.Reaction:case pe.Chat_Recommeneded:var n,a=e.content,r=null===(n=e.quote)||void 0===n?void 0:n.quotedMessage;o(a,r);break;case pe.Sticker:var c=e.content,i=c.catId,u=c.id;s({id:u,catId:i,type:7})}},doQuote:function(){i(n)},readonly:r,children:t}),Object(c.jsx)(ja,{isHidden:r,msgData:n,msgInfo:a})]})})),Oa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=Object(o.useState)(""),s=Object(d.a)(r,2),i=s[0],u=s[1],l=Object(o.useState)(!0),f=Object(d.a)(l,2),p=f[0],g=f[1],h=Object(o.useRef)(null),m=null===t||void 0===t?void 0:t.content,b=""!==m.parsedParams.m4a?m.parsedParams.m4a:m.hrefs[0];b=function(e,t){var n=e.replace("https","http").replace("http","https");return n.endsWith(".amr")?"https://cache.voice.talk.zdn.vn/mp3?url=".concat(encodeURIComponent(n),"&msgid=").concat(t):n}(b,null===t||void 0===t?void 0:t.msgId);return Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:a,children:Object(c.jsxs)("div",{className:"card__content inline",children:[p?Object(c.jsx)("img",{className:"clickable",src:"/static/images/ic-playable.svg",alt:""}):Object(c.jsx)("img",{className:"clickable",src:"/static/images/icon-pause.svg",alt:""}),Object(c.jsx)("img",{className:"sound-bar",src:"/static/images/ic-voice-bar.svg",alt:""}),Object(c.jsx)("span",{children:i}),Object(c.jsx)("audio",{id:"voice",controls:!0,ref:h,onLoadedData:function(){var e,t,n=null!==(e=null===h||void 0===h||null===(t=h.current)||void 0===t?void 0:t.duration)&&void 0!==e?e:0,a=new Date(1e3*n),r=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},c=r(a.getMinutes()),o=r(a.getSeconds());u(c+":"+o)},onEnded:function(){return g(!0)},style:{display:"none"},children:Object(c.jsx)("source",{src:b,type:"audio/mp4"})})]})})},ya=Object(l.c)((function(e){return{}}),(function(e){return{loadHistoryChat:function(t){return e(function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=xe.createLoadHistoryChat({conversationId:e}),n(En(a)),t.abrupt("return",ce.ZErrCode.Success);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}})),ka=ya((function(e){var t=e.msgData,n=e.msgInfo,a=e.loadHistoryChat,r=Object(Gn.a)().t,s=t.content,i=s.totalMsg||"0",u=Object(o.useCallback)((function(){a(s.conversationId);var e,t,n,r=window.zsp_max_width,c=window.zsp_max_height;e=r,t=c,n=!0,window.onChangeSizeIframe(e,t,n)}),[s,a]);return Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:!0,children:Object(c.jsxs)("div",{className:"card__content card__history",children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)("h3",{children:[r("chathistory.title"),"."]}),1===Number(i)?Object(c.jsx)("p",{children:"".concat(i," ").concat(r("chathistory.oldmessage"))}):Object(c.jsx)("p",{children:"".concat(i," ").concat(r("chathistory.oldmessages"))})]}),Object(c.jsx)("div",{className:"hr-solid is-margin-topbot"}),Object(c.jsx)("div",{className:"zbtn zbtn-primary",onClick:u,children:r("chathistory.view")})]})})})),xa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=Object(o.useState)(!1),i=Object(d.a)(r,2),u=i[0],l=i[1],f=Object(o.useRef)(null);s.a.useEffect((function(){var e=function(){document.fullscreenElement||l(!1)},t=f.current;return null===t||void 0===t||t.addEventListener("fullscreenchange",e),function(){null===t||void 0===t||t.removeEventListener("visibilitychange",e)}}),[]);var p=t.content;return Object(c.jsxs)(wa,{msgData:t,msgInfo:n,readonly:a,children:[Object(c.jsx)("figure",{className:"card__image image button",onClick:function(){var e;l(!0),null===(e=f.current)||void 0===e||e.requestFullscreen()},children:Object(c.jsx)("img",{src:p.href,alt:p.description})}),Object(c.jsx)("div",{ref:f,className:"image-container",children:Object(c.jsx)("div",{className:" modal ".concat(u?"show":"hide"," "),children:Object(c.jsx)("div",{className:"modal-content",ref:f,children:Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:p.href,alt:p.description})})})})})]})},Ia=function(e){var t,n,a=e.msgData,r=e.msgInfo,o=e.thumb,s=e.qmsg,i=Object(Gn.a)().t,u=a.content,l=(null===(t=a.quote)||void 0===t?void 0:t.cliMsgType)===pe.File?Object(c.jsx)("i",{className:"icon ic-file"}):Object(c.jsx)("img",{src:o,alt:""}),d=vt(a);return Object(c.jsxs)("div",{className:"card__content ".concat(Ot(r)),children:[Object(c.jsxs)("div",{className:"card__reply is-flex fs-13",children:[Object(c.jsx)("figure",{className:"card__reply__image image",children:l}),Object(c.jsxs)("div",{className:"card__reply__wrapper",children:[Object(c.jsxs)("p",{className:"card__reply__name",children:[i("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:d})]}),Object(c.jsx)("div",{className:"card__reply__content has-one-line",children:s||(null===(n=a.quote)||void 0===n?void 0:n.message)})]})]}),Object(c.jsx)("span",{children:u})]})},Sa=function(e){var t,n=e.msgData,a=e.msgInfo,r=(e.stickerMap,null===(t=n.quote)||void 0===t?void 0:t.parsedAttach),o=xt(r);return Object(c.jsx)(Ia,{msgData:n,msgInfo:a,thumb:o,qmsg:"[Sticker]"})},Na=function(e){var t,n=e.msgData,a=e.msgInfo,r=Object(Gn.a)().t,o=n.content,s=vt(n);return Object(c.jsxs)("div",{className:"card__content ".concat(Ot(a)),children:[Object(c.jsxs)("div",{className:"card__reply fs-13",children:[Object(c.jsxs)("p",{className:"card__reply__name",children:[r("reply.reply")," ",Object(c.jsx)("span",{className:"text-bold",children:s})]}),Object(c.jsx)("div",{className:"card__reply__content has-one-line",children:Object(c.jsx)(ha,{msg:null===(t=n.quote)||void 0===t?void 0:t.message})})]}),Object(c.jsx)(ha,{msg:o})]})},za=function(e){var t=e.msgData,n=e.msgInfo,a=e.stickerMap,r=e.readonly;return Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:r,children:function(){var e;switch(null===(e=t.quote)||void 0===e?void 0:e.cliMsgType){case pe.Text:return Object(c.jsx)(Na,{msgData:t,msgInfo:n});case pe.Video:var r,o=null===(r=t.quote)||void 0===r?void 0:r.parsedAttach;return Object(c.jsx)(Ia,{msgData:t,msgInfo:n,qmsg:"[Video]",thumb:o.thumb});case pe.Photo:var s,i=null===(s=t.quote)||void 0===s?void 0:s.parsedAttach;return Object(c.jsx)(Ia,{msgData:t,msgInfo:n,qmsg:"[Image]",thumb:i.href});case pe.Chat_Recommeneded:var u,l=null===(u=t.quote)||void 0===u?void 0:u.parsedAttach,d=(null===l||void 0===l?void 0:l.thumb)||"",f="[Link] ".concat((null===l||void 0===l?void 0:l.href)||"");return Object(c.jsx)(Ia,{msgData:t,msgInfo:n,qmsg:f,thumb:d});case pe.Sticker:return Object(c.jsx)(Sa,{msgData:t,msgInfo:n,stickerMap:a});case pe.File:var p,g=null===(p=t.quote)||void 0===p?void 0:p.parsedAttach;return Object(c.jsx)(Ia,{msgData:t,msgInfo:n,qmsg:"[File] ".concat(null===g||void 0===g?void 0:g.title),thumb:null===g||void 0===g?void 0:g.href});default:return Object(c.jsx)(c.Fragment,{})}}()})},Ca=function(e){var t,n,a,r,o=e.msgData,s=e.msgInfo,i=e.readonly,u=o.content;return Object(c.jsx)(wa,{msgData:o,msgInfo:s,readonly:i,children:Object(c.jsx)("div",{className:"card__content back-ground-grey",children:Object(c.jsxs)("div",{className:"card__link",children:[u.message?u.message.split(" ").map((function(e,t){return 0===e.indexOf("http://")||0===e.indexOf("https://")?Object(c.jsx)("a",{href:u.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:0===t?e:" ".concat(e)},t):Object(c.jsx)("span",{style:{color:"black",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:0===t?e:" ".concat(e)},t)})):Object(c.jsx)("a",{href:u.href,className:"mb-8 link color-blue",rel:"noreferrer",target:"_blank",children:u.href}),Object(c.jsxs)("a",{href:u.href,rel:"noreferrer",target:"_blank",children:[Object(c.jsx)("figure",{className:"image is-ratio mb-8",children:Object(c.jsx)("img",{src:u.thumb,alt:""})}),Object(c.jsxs)("div",{className:"link-desc",children:[(null===(t=u.parsedParams)||void 0===t?void 0:t.src)&&Object(c.jsx)("p",{className:"color-blue mb-4 fs-12",children:He(null===(n=u.parsedParams)||void 0===n?void 0:n.src)}),(null===(a=u.parsedParams)||void 0===a?void 0:a.mediaTitle)&&Object(c.jsx)("p",{className:"title color-black text-bold mb-4",children:null===(r=u.parsedParams)||void 0===r?void 0:r.mediaTitle}),u.description&&Object(c.jsx)("p",{className:"content color-grey fs-12",children:u.description})]})]})]})})})},Ea=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly;switch(t.content.action){case ge.Link:return Object(c.jsx)(Ca,{msgData:t,msgInfo:n,readonly:a});default:return Object(c.jsx)("div",{children:"Ch\u01b0a h\u1ed7 tr\u1ee3 lo\u1ea1i tin nh\u1eafn n\xe0y!"})}},Ma=function(e){var t,n=e.msgData,a=e.msgInfo,r=e.readonly,o=n.content,s=o.title,i=(null===(t=o.parsedParams)||void 0===t?void 0:t.fileSize)||o.size,u=o.href;return Object(c.jsx)(wa,{msgData:n,msgInfo:a,readonly:r,children:Object(c.jsx)("div",{className:"card__content back-ground-grey",children:Object(c.jsxs)("div",{className:"card__file is-flex",children:[Object(c.jsx)("figure",{className:"quote-media image",children:Object(c.jsx)("i",{className:"icon ic-file-grey"})}),Object(c.jsxs)("div",{className:"file-info",children:[Object(c.jsxs)("p",{className:"file-name color-black text-bold",children:[Object(c.jsx)("span",{className:"first",children:s.substring(0,s.length-10)}),Object(c.jsx)("span",{className:"last",children:s.substring(s.length-10,s.length)})]}),!!i&&Object(c.jsxs)("div",{className:"text-desc",children:[i/1e3," KB"]})]}),Object(c.jsx)("figure",{className:"icon-download-container image btn-download",children:Object(c.jsx)("div",{className:"icon-download-holder",children:Object(c.jsx)("a",{href:u,children:Object(c.jsx)("i",{className:"icon ic-download"})})})})]})})})},Ta=Object(l.c)((function(e){return{}}),(function(e){return{updateStickerValue:function(t,n){return e(ve(t,n))}}}))((function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=e.updateStickerValue,s=t.content,i=s.catId,u=s.id,l=Object(o.useState)(""),f=Object(d.a)(l,2),h=f[0],m=f[1];return Object(o.useEffect)((function(){var e=function(e){if(e){var t={};t[u]=e,r(i,{status:K.Downloaded,data:{},extData:t}),m(e)}},t=function(){var t=Object(g.a)(p.a.mark((function t(){var n,a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fe.getStickerUrl(i,u);case 2:a=t.sent,r=null!==(n=a.data.url)&&void 0!==n?n:"",e(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=xt(s);h?e(n):t()}),[i,u,h]),Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:a,children:Object(c.jsx)("figure",{className:"card__sticker image",children:Object(c.jsx)("img",{src:h,alt:"sticker",style:{width:100,height:100}})})})})),Da=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=t.content,o=t.content;return o.startsWith("#")&&function(e){var t,n=null===(t=ht.getState().app.oaInfo)||void 0===t?void 0:t.oaMenu,a=!1;return(null===n||void 0===n?void 0:n.length)&&n.forEach((function(t){if(!a){if(""===t.menuData){var n=t.listSubMenu;n&&n.length&&n.forEach((function(t){a||t.subMenuData!==e||(a=!0)}))}t.menuData===e&&(a=!0)}})),a}(o)?null:Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:a,children:Object(c.jsx)("div",{className:"card__content ".concat(Ot(n)),children:Object(c.jsx)(ha,{msg:r})})})},Pa=function(e){var t=e.msgData,n=e.msgInfo,a=e.readonly,r=Object(o.useRef)(null),i=Object(o.useRef)(null),u=Object(o.useState)(""),l=Object(d.a)(u,2),f=l[0],p=l[1],g=Object(o.useState)(!1),h=Object(d.a)(g,2),m=h[0],b=h[1],v=Object(o.useState)(!1),_=Object(d.a)(v,2),j=_[0],w=_[1];s.a.useEffect((function(){var e=function(){return b(!0)},t=function(){return b(!1)},n=i.current;return null===n||void 0===n||n.addEventListener("play",e),null===n||void 0===n||n.addEventListener("pause",t),function(){null===n||void 0===n||n.removeEventListener("play",e),null===n||void 0===n||n.removeEventListener("pause",t)}}),[]);var O=t.content,y=function(){var e,t;(null===(e=i.current)||void 0===e?void 0:e.paused)?i.current.play():null===(t=i.current)||void 0===t||t.pause()};return Object(c.jsx)(wa,{msgData:t,msgInfo:n,readonly:a,children:Object(c.jsxs)("figure",{ref:r,className:"card__image image video",children:[Object(c.jsx)("video",{ref:i,src:O.href,style:{width:"100%",height:"100%"},poster:O.thumb,controls:m,controlsList:"nodownload",disablePictureInPicture:!0,onEnded:function(){return b(!1)},onLoadedMetadata:function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.duration;if(void 0!==t){var n=new Date(1e3*t),a=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},r=a(n.getMinutes()),c=a(n.getSeconds());p(r+":"+c)}else p("--:--")},onMouseOver:function(){return w(!0)},onMouseOut:function(e){return function(e){var t,n=e.relatedTarget;(null===(t=r.current)||void 0===t?void 0:t.contains(n))||w(!1)}(e)},onDoubleClick:function(){window.FullScreen.isOn()?window.FullScreen.close():window.FullScreen.open(r.current)},onClick:function(){var e;null===(e=i.current)||void 0===e||e.play()}}),m&&j&&Object(c.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-pause.svg",onClick:y,alt:""}),!m&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"time-video",children:f}),Object(c.jsx)("img",{className:"video-btn-play",src:"/static/images/ic-play.svg",onClick:y,alt:""})]})]})})},Aa=function(e){return null==e},Ra=Object(l.c)((function(e){var t;return{messaging:e.messaging,stickerMap:e.sticker.stickerMap,app:e.app,session:e.session,oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name}}),(function(e){return{}}))((function(e){var t,n=e.messaging,a=e.stickerMap,i=e.app,u=e.oaName,l=Object(Gn.a)().t,d=Object(o.useRef)(null);Object(o.useEffect)((function(){f()}),[n]);var f=function(){null!==d.current&&d.current.scrollIntoView()},p=function(e){var t=n.messagesInfo[e.cliMsgId],r=e.cliMsgId||e.msgId;switch(e.msgType){case pe.Text:return!Aa(e.quote)?Object(c.jsx)(za,{msgData:e,msgInfo:t,stickerMap:a},r):Object(c.jsx)(Da,{msgData:e,msgInfo:t,readonly:e.cliMsgId===n.messages[0].cliMsgId},r);case pe.Photo:return Object(c.jsx)(xa,{msgData:e,msgInfo:t},r);case pe.Video:return Object(c.jsx)(Pa,{msgData:e,msgInfo:t},r);case pe.Sticker:return Object(c.jsx)(Ta,{msgData:e,msgInfo:t},r);case pe.Chat_Recommeneded:return Object(c.jsx)(Ea,{msgData:e,msgInfo:t},r);case pe.File:return Object(c.jsx)(Ma,{msgData:e,msgInfo:t},r);case pe.Conversation:return Object(c.jsx)(ka,{msgData:e,msgInfo:t},r);case pe.Audio:return Object(c.jsx)(Oa,{msgData:e,msgInfo:t},r);default:return null}},g=function(e){var t=e.messages,n=e.isSeparated;if(0===t.length)return null;var a=jt(t[0]),r=t[0].cliMsgId||t[0].msgId||"",o=function(e){var t=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},n=new Date(e),a=t(n.getHours()),r=t(n.getMinutes()),c=t(n.getFullYear()),o=t(n.getMonth()+1),s=t(n.getDate()),i=new Date;return n.getDate()===i.getDate()&&n.getMonth()===i.getMonth()?"".concat(a,":").concat(r," H\xf4m nay"):"".concat(a,":").concat(r," ").concat(s,"/").concat(o,"/").concat(c)}(Number.parseInt(t[0].cliMsgId));return Object(c.jsxs)(s.a.Fragment,{children:[n&&Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("p",{className:"time",children:o})}),a?Object(c.jsx)("div",{className:"media is-user",children:Object(c.jsx)("div",{className:"media-left",children:t.map(p)})}):function(){var e;return Object(c.jsxs)("div",{className:"media",children:[Object(c.jsx)("figure",{className:"image avatar media-left",children:Object(c.jsx)("img",{src:null===(e=i.oaInfo)||void 0===e?void 0:e.avatar,alt:""})}),Object(c.jsx)("div",{className:"media-right",children:t.map(p)})]})}()]},r)},h=function(){var e=[],t=n.messages;if(0===t.length)return e;var a={messages:[],isSeparated:!0},r=t[0];return t.forEach((function(t){var n=jt(t)===jt(r),c=function(e,t){var n=Number.parseInt(e.cliMsgId),a=Number.parseInt(t.cliMsgId);return Math.abs(n-a)<D.conversationDuration}(t,r);n&&c?a.messages.push(t):(e.push(a),r=t,a={messages:[t],isSeparated:!c})})),e.push(a),e[0].isSeparated=!1,e.length>1&&(e[1].isSeparated=!0),e},m=n.initState,b=r.Initialized===m||r.Loading===m;return Object(c.jsxs)("div",{className:"box__body",children:[Object(c.jsxs)("div",{className:"noti-remind",children:["B\u1eaft \u0111\u1ea7u tr\xf2 chuy\u1ec7n nhanh v\u1edbi ".concat(u,"."),Object(c.jsx)("br",{}),"Th\xf4ng tin c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u1ea9n v\xe0 tin nh\u1eafn tr\xf2 chuy\u1ec7n ch\u1ec9 l\u01b0u tr\xean tr\xecnh duy\u1ec7t web."]}),b?Object(c.jsx)("div",{}):h().map(g),n.typing.onGoing&&Object(c.jsx)("div",{className:"zs-section-typing",children:Object(c.jsxs)("span",{children:[(null===(t=i.oaInfo)||void 0===t?void 0:t.name)+" "+l("messagestatus.typing"),Object(c.jsx)("i",{className:"zs-typing-loading"})]})}),Object(c.jsx)("div",{ref:d})]})})),Ua=function(e){var t=e.handleLoginWidget,n=e.oaInfo,a=Object(Gn.a)().t,r=(null===n||void 0===n?void 0:n.name)||"",o=a("welcomebox.hint").replace("<oa_name>",r);return Object(c.jsx)("div",{className:"box__body",children:Object(c.jsx)("div",{className:"bounding",children:Object(c.jsxs)("div",{className:"center-items",children:[Object(c.jsx)("div",{children:Object(c.jsx)("p",{className:"text-hint-welcome",children:o})}),Object(c.jsx)("div",{className:"zbtn zbtn-primary welcome text-welcome",onClick:function(){return t(ue.Zalo)},children:a("welcomebox.aszalo")}),(null===n||void 0===n?void 0:n.guestEnabled)&&Object(c.jsx)("div",{className:"zbtn zbtn-normal welcome text-welcome",onClick:function(){return t(ue.Anonymous)},children:a("welcomebox.asguest")})]})})})},La=Object(l.c)((function(e){return{appState:e.app,sessionState:e.session}}),(function(e){return{sessionThunkActions:Object(we.b)(a,e)}}))((function(e){var t=e.sessionThunkActions,n=e.appState,a=e.sessionState,s=Object(o.useRef)(null),i=Object(o.useRef)(!1),u=Object(o.useRef)(null),l=Object(o.useRef)(null),f=Object(o.useRef)(null),p=Object(o.useRef)(null),g=Object(o.useRef)(null),h=Object(o.useRef)(null),m=Object(o.useState)(!1),b=Object(d.a)(m,2),v=b[0],_=b[1],j=Object(o.useState)(""),w=Object(d.a)(j,2),O=w[0],y=w[1];Object(o.useEffect)((function(){window.addEventListener("message",(function(e){return y(e.data.url)}))}),[]),Object(o.useEffect)((function(){var e=function(e){if(!/^react-devtools/gi.test(e.data.source))switch(h.current&&clearInterval(h.current),e.data){case D.login.callbackMessage:!function(){var e;u.current&&clearInterval(u.current),null===(e=s.current)||void 0===e||e.close(),t.getSessionInfo(ue.Zalo)}();break;case D.upgrade.callbackMessage:!function(){var e;f.current&&clearInterval(f.current),null===(e=l.current)||void 0===e||e.close(),t.upgradeSessionInfo()}();break;case D.zalopc.callbackMessage:!function(){var e;g.current&&clearInterval(g.current),null===(e=p.current)||void 0===e||e.close(),t.loadSessionForNewTab().then((function(e){e===ce.ZErrCode.Success&&Fn.openZaloPc()}))}()}};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e)}}),[t]);var k=function(e,t,n,a){t.current=Qn(e);var r,c=setInterval((function(){var e;(null===(e=t.current)||void 0===e?void 0:e.closed)&&(clearInterval(c),a(),jn.postMessage(St.UPGRADE_CONVERSATION))}),e.checkClosedInterval);n.current=c,h.current=(r=e.callbackMessage,setInterval((function(){return Be.getZUserInfo().then((function(e){se(e)&&window.postMessage(r,"*")}))}),3e3))},x=a.status===r.Done&&a.conversationType!==ue.Unknown;return n.status!==r.Done?null:Object(c.jsxs)("div",{className:"box-wrapper",onDragOver:function(){return _(!0)},children:[Object(c.jsx)(ca,{upgradeUser:function(){var e=function(){return k(D.upgrade,l,f,(function(){}))};n.zuserInfo?t.upgradeSessionInfo().then((function(t){t!==ce.ZErrCode.Success&&e()})):e()},closeConversation:function(){t.endSession()},showMessageView:x}),!x&&Object(c.jsx)(Ua,{handleLoginWidget:function(e){switch(e){case ue.Zalo:if(i&&i.current)return;i.current=!0,Fn.openZaloWeb((function(){i.current=!1}));break;case ue.Anonymous:t.getSessionInfo(ue.Anonymous).then((function(e){ce.ZErrCode.Success})),Wn.logLoginAnonymous()}},oaInfo:n.oaInfo}),x&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Ra,{}),Object(c.jsx)(Xn,{open:v,onClose:function(){return _(!1)}})]}),Object(c.jsx)(ma,{showMessageView:x,parentUrl:O})]})}));n(292);function qa(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}var Fa=Object(l.c)((function(e){var t;return{oaName:null===(t=e.app.oaInfo)||void 0===t?void 0:t.name,appStatus:e.app.status,newMsgCount:e.messaging.newMsgCount}}),(function(){return{}}))((function(e){var t=e.appStatus,n=e.newMsgCount,a=e.onClick,s=Object(o.useState)(!0),i=Object(d.a)(s,2),u=i[0],l=i[1];return u&&window.onChangeSizeIframe(window.zsp_min_width,window.zsp_min_height),t!==r.Done?null:Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"logo",onClick:function(e){qa()?window.open(Fn.getZaloMeLink()):(function(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("safari")&&e.indexOf("chrome")<0}()&&(document.hasStorageAccess().then((function(e){}),(function(e){})),document.requestStorageAccess().then((function(){}),(function(){}))),l(!1),a(e))},children:Object(c.jsx)("img",{src:"/static/images/2.0/Logo.svg",alt:""})}),n>0&&Object(c.jsx)("div",{className:"notification-number",children:n})]})})),Za=Object(l.c)((function(e){return{stickerMap:e.sticker.stickerMap,app:e.app,messages:e.history.content.messages}}),(function(e){return{}}))((function(e){var t=e.messages,n=e.stickerMap,a=e.app,r=Object(o.useRef)(null);Object(o.useEffect)((function(){s()}),[t]);var s=function(){null!==r.current&&r.current.scrollIntoView()},i=function(e){var t={index:0,state:L.Sent},a=e.cliMsgId||e.msgId;switch(e.msgType){case pe.Text:return!Aa(e.quote)?Object(c.jsx)(za,{msgData:e,msgInfo:t,readonly:!0,stickerMap:n},a):Object(c.jsx)(Da,{msgData:e,msgInfo:t,readonly:!0},a);case pe.Photo:return Object(c.jsx)(xa,{msgData:e,msgInfo:t,readonly:!0},a);case pe.Video:return Object(c.jsx)(Pa,{msgData:e,msgInfo:t,readonly:!0},a);case pe.Sticker:return Object(c.jsx)(Ta,{msgData:e,msgInfo:t,readonly:!0},a);case pe.Chat_Recommeneded:return Object(c.jsx)(Ea,{msgData:e,msgInfo:t,readonly:!0},a);case pe.File:return Object(c.jsx)(Ma,{msgData:e,msgInfo:t,readonly:!0},a);case pe.Conversation:return Object(c.jsx)(ka,{msgData:e,msgInfo:t},a);case pe.Audio:return Object(c.jsx)(Oa,{msgData:e,msgInfo:t,readonly:!0},a);default:return null}},u=function(e){return 0===e.length?null:jt(e[0])?function(e){var t=e[0].cliMsgId||e[0].msgId;return Object(c.jsx)("div",{className:"media is-user",children:Object(c.jsx)("div",{className:"media-left",children:e.map(i)})},t)}(e):function(e){var t,n=e[0].cliMsgId||e[0].msgId;return Object(c.jsxs)("div",{className:"media",children:[Object(c.jsx)("figure",{className:"image avatar media-left",children:Object(c.jsx)("img",{src:null===(t=a.oaInfo)||void 0===t?void 0:t.avatar,alt:""})}),Object(c.jsx)("div",{className:"media-right",children:e.map(i)})]},n)}(e)};return Object(c.jsx)("div",{className:"box__body",children:function(){var e=[];if(0===t.length)return e;var n=jt(t[0]),a=[];return t.forEach((function(t){var r=jt(t);n===r?a.push(t):(e.push(a),n=!n,a=[t])})),e.push(a),e}().map(u)})})),Ba=Object(l.c)((function(e){return{app:e.app,session:e.session,history:e.history}}),(function(e){return{closeHistoryChat:function(){return e(fn())}}}))((function(e){var t,n=e.app,a=e.history,r=e.closeHistoryChat,s=Object(Gn.a)().t,i=null===(t=n.oaInfo)||void 0===t?void 0:t.avatar,u=a.content.total,l=Object(o.useCallback)((function(){var e=window.zsp_width,t=window.zsp_height;window.onChangeSizeIframe(e,t,!0),r()}),[r]);return n.shouldShowBox?Object(c.jsxs)("div",{className:"box-wrapper",children:[Object(c.jsx)("div",{className:"box__top",children:Object(c.jsxs)("div",{className:"box__header media justify-between items-center",children:[Object(c.jsxs)("div",{className:"media-left is-flex items-center",children:[Object(c.jsx)($n,{imgSrc:i||"",isActivated:!0}),Object(c.jsx)(ta,{title:s("chathistory.title"),desc:"".concat(u," ").concat(s("chathistory.oldmessages"))})]}),Object(c.jsx)("div",{className:"media-right",children:Object(c.jsx)(na,{isCircle:!0,falName:"fa-times",handleClick:l})})]})}),Object(c.jsx)("div",{className:"box__body",children:Object(c.jsx)(Za,{})})]}):null})),Va=Object(l.c)((function(e){return{connectionState:e.zwebsocket.connectionState}}),(function(e){return{loadSessionForNewTab:function(){return e(Un())}}}))((function(e){var t=e.connectionState,n=e.loadSessionForNewTab,a=Object(Gn.a)().t,r=Object(o.useState)(!0),s=Object(d.a)(r,2),i=s[0],u=s[1];Object(o.useEffect)((function(){function e(e){navigator.onLine?(u(!0),n()):u(!1)}return window.addEventListener("online",e),window.addEventListener("offline",e),function(){window.removeEventListener("online",e),window.removeEventListener("offline",e)}}),[n]);return qa()?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)("div",{className:"ws-state",children:i?t===$.Connecting?a("network.connecting"):null:a("network.offline")})})),Wa=(n(293),Object(l.c)((function(e){return{appState:e.app,history:e.history}}),(function(e){return{initializeWidgetApp:function(){return e(function(){var e=Object(g.a)(p.a.mark((function e(t,n,a){var c,o,s,i,u,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.zwidgetService,e.prev=1,o=Object.fromEntries(new URLSearchParams(window.location.search)),Zn(o)){e.next=6;break}return t(rn(r.Failed)),e.abrupt("return",ce.ZErrCode.Failed);case 6:return s={oaIdPublic:o.oaid,oaWelcomeMessage:o.welcomemessage,oaAutoPopup:"0"===o.autopopup?0:1,oaWidth:parseInt(o.width),oaHeight:parseInt(o.height)},i=c.getWidgetOAInfo(s.oaIdPublic),u=c.getZUserInfo(),e.next=11,i;case 11:return d=e.sent,e.next=14,u;case 14:if(f=e.sent,null!=d.data){e.next=18;break}return t(rn(r.Failed)),e.abrupt("return",ce.ZErrCode.Failed);case 18:return Object(l.b)((function(){t(rn(r.Done,s,d.data,f.data)),t(Un())})),Fn.logLoadWidget(),e.abrupt("return",ce.ZErrCode.Success);case 23:return e.prev=23,e.t0=e.catch(1),t(rn(r.Failed)),e.abrupt("return",ce.ZErrCode.Failed);case 28:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n,a){return e.apply(this,arguments)}}())},updateShowBox:function(t){return e(function(e){return function(){var t=Object(g.a)(p.a.mark((function t(n,a,r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.zwidgetService,t.prev=1,Object(l.b)((function(){n(sn(e)),e&&n(nn(0))})),t.abrupt("return",ce.ZErrCode.Success);case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",ce.ZErrCode.Failed);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,a){return t.apply(this,arguments)}}()}(t))},loadSessionForNewTab:function(){return e(Un())}}}))),Ga=function(e,t,n){window.onChangeSizeIframe(e,t)},Ha=Wa((function(e){var t=e.appState,n=e.history,a=e.updateShowBox,r=e.initializeWidgetApp,s=e.loadSessionForNewTab,i="true"===window.zsp_left_side,u=Object(o.useState)(t.shouldShowBox),l=Object(d.a)(u,2),f=l[0],p=l[1];Object(o.useEffect)((function(){}),[]),Object(o.useEffect)((function(){r();var e=function(){document.hidden||s()};return document.addEventListener("visibilitychange",e,!1),function(){document.removeEventListener("visibilitychange",e,!1)}}),[r,s]),Object(o.useEffect)((function(){t.shouldShowBox&&p(!0)}),[n.shouldShow,t.shouldShowBox]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"za-chat".concat(i?" left-side":""),children:[Object(c.jsxs)("div",{className:"chat-wrapper za-chat__wrapper",children:[n.shouldShow&&Object(c.jsx)("div",{className:"za-chat__wrapper__history-box",children:Object(c.jsx)(Ba,{})}),Object(c.jsx)("div",{className:"za-chat__wrapper__chat-box zl_chat_bounce_in".concat(t.shouldShowBox?"":" zl_chat_bounce_out"),style:{width:n.shouldShow?"440px":"100%",height:f?"100%":0},onAnimationEnd:function(){if(!t.shouldShowBox){p(!1);var e=window.zsp_min_width,n=window.zsp_min_height;Ga(e,n)}},children:Object(c.jsx)(La,{})})]}),Object(c.jsx)("div",{className:"za-chat__head-box",children:Object(c.jsx)(Fa,{onClick:function(){if(!f){var e=n.shouldShow?window.zsp_max_width:window.zsp_width,t=n.shouldShow?window.zsp_max_height:window.zsp_height;Ga(e,t),Wn.logOpenChatHead(),Fn.logOpenWidget()}a(!f)}})})]}),Object(c.jsx)("div",{style:{position:"fixed",bottom:0},children:Object(c.jsx)(Va,{})})]})})),Ja=n(48),Ka=n(160);mt.a.use(Ka.a).use(Ja.e).init({fallbackLng:"vi",debug:!1,backend:{loadPath:"/static/locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},interpolation:{escapeValue:!1}});var Ya=mt.a;n(294);var Xa=function(){return Object(c.jsx)(Ha,{})},Qa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,299)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};Ya.on("initialized",(function(){u.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(l.a,{store:ht,children:Object(c.jsx)(Xa,{})})}),document.getElementById("root"))})),Qa()},5:function(e,t,n){"use strict";n.d(t,"ZErrCode",(function(){return a})),n.d(t,"ZLoadBalanceStrategyType",(function(){return r}));var a,r;n(85);!function(e){e[e.Success=0]="Success",e[e.Failed=-1]="Failed",e[e.Exception=-99]="Exception"}(a||(a={})),function(e){e[e.Random=1]="Random",e[e.Round_Robin=2]="Round_Robin"}(r||(r={}))},85:function(e,t){}},[[295,1,2]]]);